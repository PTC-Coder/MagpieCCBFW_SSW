Bosch Sensortec   |   BME688 Datasheet   1   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  BM E68 8   â€“   Datasheet  Document revision   1. 3  Document release date   February , 202 4  Document number   BST - BME688 - DS 00 0 - 0 3  Technical reference code(s)   0 273   017 016  Notes   Data   and descriptions   in this document are   su bject to change without  notice. P roduct photos and pictures are for illustration purposes only and  may differ from the real product appearance.  BME688  Digital low power gas, pressure, temperature & humidity  sensor with AI

Bosch Sensortec   |   BME688 Datasheet   2   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  BME68 8  Digital l ow   power gas, pressure, temperature & humidity sensor   with AI  The BME688 is the first gas sensor with Artificial Intelligence (AI) and integrated high - linearity and high - accuracy  pressure, humidity and temperature sensors. It is housed in a robust yet compa ct 3.0 x 3.0 x 0.9 mmÂ³ package  and especially developed for mobile & connected applications where size and low power consumption are critical  requirements. The gas sensor can detect Volatile Organic Compounds (VOCs), volatile sulfur compounds (VSCs)  and ot her gases such as carbon monoxide and hydrogen in the part per billion (ppb) range.  Additionally to all features of the BME680, the BME688 has a gas scanner function. In standard configuration, the  presence of VSCs is being detected as indicator for   e.g. bacteria growth. And the gas scanner can be customized  with respect to sensitivity, selectivity, data rate and power consumption as well. The BME AI - Studio tool enables  customers to train the BME688 gas scanner on their specific application, like in h ome appliances, IoT products  or Smart Home.  Typical applications  ï‚„   Indoor air quality measurement  ï‚„   Bad breath or spoiled food detection based on the measurement of volatile sulfur compounds, which are  an indicator of bacteria growth  ï‚„   Detection of unusual ga ses and smells, which might indicate for instance a leakage  ï‚„   Diaper state detection, e.g. for baby care  ï‚„   Early detection of odors & bad smells  Target Devices  ï‚„   Handsets such as mobile phones, tablet PCs, GPS devices  ï‚„   Wearables e.g. smart watches or   connected sensors  ï‚„   Mobile / care devices like toothbrushes or breath checkers  ï‚„   Smart h ome   devices, e.g. smart speakers, connected sensors or lamps  ï‚„   Room climate sensors  ï‚„   Home appliances  ï‚„   Gaming, e.g. flying toys  ï‚„   Connected   devices , for instance for asset   tracking   or surveillance  ï‚„   Sensor networks   / sensor nodes  V ideo s, further documents   & software   is   available online:  ï‚„   BME688:   https://www.bosch - sensortec.com/products/environmental - sensors/gas - sensors/bme688/  ï‚„   Software:   https://www.bosch - sensortec.com/software - tools/software/bme688 - software/

Bosch Sensortec   |   BME688 Datasheet   3   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Key features  ï‚„   P ackage   3.0   mm x 3.0   mm x   0.93   mm metal lid LGA  ï‚„   Digital interface   IÂ²C   (up to 3.4 MHz)   and   SPI (3 and 4 wire, up to 10 MHz)  ï‚„   Supply   voltage   V DD   main   supply voltage range: 1.71 V to 3.6 V  V DDIO   interface voltage range: 1.2 V to 3.6 V  ï‚„   Current consumption   2.1 Î¼A   at   1   Hz humidity and temperature  3.1   Î¼A at 1   Hz pressure and tempe rature  3. 7   Î¼A at 1 Hz humidity, pressure and temperature  90 Î¼A at ULP mode for p/h/T & air quality  0,9 mA at LP mode for p/h/T & air quality  3,9 mA in standard gas scan mode  0.09 â€’ 12 mA for   p/ h/T/gas   in customized   operation mode s  0.15 Î¼A in sleep mode  ï‚„   Oper ating range   - 40 â€’ +85 Â°C, 0 â€’ 100% r.H., 300 â€’ 1100 hPa  ï‚„   The product is   RoHS compliant, halogen - free , MSL1  Key parameters for gas   sensor  ï‚„   F1 score for   H 2 S   scanning   0. 9 4  ï‚„   Standard scan speed   10.8 s / scan  ï‚„   Electric charge   for   standard   scan   0.18 mAh   (5 scans   ~ 1 mi n )  ï‚„   Power   consumption   <   0. 1   mA in ultra - low power mode  ï‚„   Output data processing   Major   direct   output s:   Index for Air Quality (IAQ),   bVOC -   &   CO 2 - equivalents (ppm),  Gas scan result (%) & Intensity leve l   (all listed in   Table   20 : BSEC outputs )  Key parameters for humidity sensor  ï‚„   Response time   ( ğœ 0 âˆ’ 63% )   ~8 s  ï‚„   Accuracy tolerance   Â± 3 %   r.H.  ï‚„   Hysteresis   Â±1.5 %   r.H.  Key parameters for   pressure sensor  ï‚„   RMS Noise   0.12 Pa, equiv. to 1.7 cm  ï‚„   Offset temperature coefficient   Â±1. 3   Pa/K, equiv. to Â± 10 . 9   cm at 1 Â°C temperature change  Key parameters for   temperature   sensor  ï‚„   Absolute accuracy   Â± 0.5 Â°C (0   -   65Â°C)  Key   hardware &   software   tools for the BME688  ï‚„   BME688 Development Kit   & App for mobile devices  ï‚„   BME AI - Studio   Desktop & Server   software   for use - case testing & development  ï‚„   BSEC 2.x library   for system Î¼C   w/ integration code examples  ï‚„   Sensor   API   ( driver )   w/ code exam p les

Bosch Sensortec   |   BME688 Datasheet   4   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Tabl e   of contents  1. Specification   7  2. Absolute maximum ratings   15  3. Sensor usage   16

Bosch Sensortec   |   BME688 Datasheet   5   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  4. Software   3 0  5. Global memory map and register description   32  6. Digital interfaces   45

Bosch Sensortec   |   BME688 Datasheet   6   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  7. Pin - out and connection diagram   51  8. Legal disclaimer   58  9. Document history and modifications   59

Bosch Sensortec   |   BME688 Datasheet   7   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  1.   Specification  If not stated otherwise,  ï‚„   a ll values are valid over the full voltage range ,  ï‚„   a ll   minimum/maximum values are given for the full accuracy temperature range  ï‚„   m inimum/maximum values of drifts, offsets and temperature coefficients are Â±3 ï³   values over lifetime ,  ï‚„   t ypical values of currents and state machine timings are determined at 25 Â°C ,  ï‚„   m ini mum/maximum values of currents are determined using corner lots over complete temperature range , and  ï‚„   m inimum/maximum values of state - machine timings are determined using corner lots over 0 â€’ +65   Â°C temperature  range .  Besides the general electrical specificat ions, the following tables are separated for the gas,   pressure,   humidity and  temperature functions of the BME68 8 .  1.1   General Electrical Specification  Table   1 : Electrical parameter specification  O PERATING   C ONDITIONS   BME68 8  Parameter   Symbol   Condition   Min   Typ   Max   Unit  Supply Voltage  Internal Domains 1   V DD   ripple max. 50 mVpp   1.71   1.8   3.6   V  Supply Voltage  I/O Domain   V DDIO   1.2   1.6   3.6   V  Sleep current   I DDSL   0.15   1   Î¼A  Standby current  (inactive period of  normal mode)  I DDSB   0. 29   0.8   Î¼A  Current during  humidity  measurement  I DDH   Max value at 85 Â°C   340   450   Î¼A  Current during  pressure  measurement  I DDP   Max value at   - 40 Â°C   714   849   Î¼A  Current during  temperature  measurement  I DDT   Max   value at 85 Â°C   350   Î¼A  Start - up time   t startup  Time to first communication  after both V DD   > 1.58 V and  V DDIO   > 0.65 V  2   ms  Power supply  rejection ratio (DC)   PSRR   full V DD   range   Â±0.01  Â±5  %r.H./V  Pa/V  Standby time  accuracy   Î” t standby   Â±5   Â±25   %  1   The power efficiency, performance and heat dissipation scales with the applied supply voltage. The BME68 8   is optimized for 1.8 V.

Bosch Sensortec   |   BME688 Datasheet   8   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  1.2   Gas sensor specification  The tables 2 - 5   list   the gas sensor specification. All the parameters are deduced from lab measurements under controlled  environmental conditions, which are   chosen according   to the ISO16000 - 29 standard   â€œTest methods for VOC detector sâ€ .   The  d etailed procedure to measure the gas sensor i s available in the application n ote s   AN012   (â€œ Measurement Instructions for  Lab Environment â€) or AN016 (â€œhandbookâ€) .  Referring to   c hapter   4 , a   software solution (BSEC: Bosch Software Environmental Cluster) is available for the BME68 8 . The  software is carefully engineered to   seamlessly work with the 4   integrated sensors inside the BME68 8 . Based on intelligent  algorit hm s , the BSEC provides   numerous usef u l outputs   (see   Table   20 ),   e.g. an   Index for   Air Quality (IAQ),   bVOC -   &   CO 2 -  equivalents (ppm) and   Gas scan result s   (%) .   The IAQ output   is an index that can have values between 0 and 500 with a  resolution of 1 to indicate or quantify the quality of the air available in the surrounding.   Table   3   lists the IAQ system  specification. The detailed classification and   colour   coding of the IAQ index is described in   Table   6 . Furthermore, the BSE C  solution supports different operation modes   (see   Table   19 )   for the gas sensor to address the necessary power budget and  update rate requirements of the   end - application.  Unless mentioned otherwise, the specifications are deduced from new sensors that have been operated for at least   five days  mainly in ambient air and consequently have the same history (i.e. same power mode and exposed to the same environme nt).  The sensors are tested especially with hydrogen sulfide (H 2 S),   ethanol   ( â€œ EtOH â€ ) , carbon monoxide (CO)   and   breath - VOC s  ( â€œ b - VOC â€ ). The b - VOC mixture, as   listed   i n   Table   7 , represents the most important compounds in an exhaled breath of healthy  humans. The values are derived from several publications   on breath analysis studies. The composition does not contain  species which would chemically react to ensure that the mix ture is stable for at least 6 months. Furthermore, the composition  is also limited to species which can   be manufactured in one mixture.  Table   2 :   Gas sensor parameter specification  Parameter   Symbol   Condition   Min   Typ   Max   Unit  Operational range 1   - 40   85   Â°C  10   95   % r.H.  Supply Current during  heater operation   I DD  Heater target temperature  320 Â°C, constant operation  ( V DD   â‰¤ 1.8 V, 25Â°C)  9   12   13   mA  Peak Supply Current   I Peak  o ccurs within first ms of  switching on the   hotplate   15   17   18   mA  Average Supply  Current  ( V DD   â‰¤ 1.8 V, 25Â°C)  I DD,IAQ  Ultra - low power mode   0.09   mA  Low power mode   0.9   mA  Continuous mode   12   mA  Response time 2  (brand - new sensors)  Ï„ 33 - 63%   Ultra - low power mode   92   s  Ï„ 33 - 63%   Low power   mode   1.4   s  Ï„ 33 - 63%   Continuous mode   0. 75   s  Resolution of gas  sensor resistance  measurement  0.05   0.08   0.11   %  Noise in gas sensor  resistance (RMS)   N R   1.5   %  1   The sensors are electrically operable within this range. Actual performance may vary .  2   Response time of unsoldered, brand - new sensors extracted from the sensorsâ€™ resistance change in response to a   0. 6 â€“ 60   ppm step of   EtOH   and a   0.5 â€“ 15 ppm step of b - VOC   at 20 Â°C, 50%  r.H. and atmospheric pressure.

Bosch Sensortec   |   BME688 Datasheet   9   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Table   3 :   IAQ system parameter specification 3  Parameter   Symbol   Condition   Min   Typ   Max   Unit  Accuracy   status 4   AX IAQ   Android compatible   0   3  IAQ Resolution   IAQ rs   1  IAQ Range   IAQ rg   0   500  Sensor - to - sensor  deviation 5   IAQ S 2 S   All operation modes   Â±15%  Â±15  Durability   to  siloxanes 6 , 7 , 8  IAQ S 2 S   S ensor - to - sensor deviation   Â±15%  Â±15  IAQ drift  D rift at low   &   high  concentrations  Â±1%  Â±4  3   IAQ parameters only apply for the combination of BME68 8   together with the Bosch Software Environmental Cluster (BSEC) solution (available   for download , see   chapter   4 )  4   The accuracy status is equal to zero during the power - on stabilization times of the sensor and is equal to 3 when the sensor achieves best performance  5   Tested with 0.6 â€“ 90 ppm of EtOH at 5 â€“ 40   Â°C, 20 â€“ 80% r.H. and atmospheric pressure. Condition is vali d after the calibration period of the BSEC algorithm.  6   Siloxanes are present in a typical indoor environment and can in principle   perturb the metal - oxide - based gas sensor performance .  7   220 hours of 700 mg/m 3   of octamethylcyclotetrasiloxane (D4) in ambient conditions (i.e. 20 Â°C and 50% r.H.) simulates the amount of siloxanes in a t ypical indoor environment over  more than 10 years.  8   Tested with 0.5 â€“ 15 ppm of b - VOC at 20 Â°C and 50% r.H. using continuous ope ration mode for 220 hours of 700 mg/m 3   of octamethylcyclotetrasiloxane (D4).

Bosch Sensortec   |   BME688 Datasheet   10   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Table   4 :   Standard   g as scanner mode   for H 2 S   selectivity 9  Parameter   Symbol   Condition   Min   Typ   Max   Unit  Average Supply  Current  ( V DD   â‰¤ 1.8 V, 25Â°C)  I DD,IAQ  Gas scanner   standard   mode  consists of  5 scan cycles and 10  sleeping cycles  3.96   mA  Gas scan ning   power  consumption in ampere  hours  Ah scan  Electric charge   for   one  scanning phase (5 scan  cycles in standard gas  scanner mode)  0.18   mAh  Duty cycle   of  s tandard   g as  scann er mode  t s tandard scan  D uration of   gas scanning  phase   54   s  f standard scan   ODR during scanning phase   1/10.8   1/s  t standard   sleep   Duration   of   s leep ing   phase   108   s  f standard   sleep   ODR during sleep ing   phase   0   1/s  Gas   scan cycle   t standard   cycle   Duration of gas scan   cycle   10.8   s  Selectivity to H 2 S  P H2S  Probability of H 2 S and non  H 2 S class   0   1  Resolution   of probability   0.01  S H2S  Sensitivity (recall) of H 2 S  classification   0. 9 5  F1 H2S  F1 score of H 2 S  classification   0. 9 4  D S/F1  Average l ong - term drift 10   of  Sensitivity / F1 score   0. 0 12   /year  IAQ   IAQ rg   0   500  9   The classification performance for VSCs was developed based on comprehensive lab tests with H 2 S concentrations between 100 and 500 ppb (i.e. 0.1   â€“   0.5 ppm) as representative f or sulfur  compounds and tested   at 5 â€“ 40   Â°C, 20 â€“ 80% r.H. and atmospheric pressure . The selectivity was approved by testing against the presence of bVOCs up to 15 ppm, Ethanol up to 15 pm and  Carbon monoxide up to 50 ppm. The specification is based on BSEC 2. 2 . 0 . 0 .  10   Typical value for operation in normal   room air temperature/humidity   range   derived from JEDEC standard   JESD22 - A108D . Software - compensated on sensor component level by considering  the performance of aged sensors. Other environment conditions or contaminations (e.g. outgassing, adhesives or packaging mate rials) might lead to different values. Please see the   Handling,  Sol dering and Mounting Instructions   (HSMI) for details.

Bosch Sensortec   |   BME688 Datasheet   11   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Table   5 :   Customization of   gas   scan ner   mode 11  Parameter   Symbol   Condition   Min   Typ   Max   Unit  Classification   Number of Classes   2   4  Number of   temperature  steps   10  D uration   of   gas scan  cycle   10   to 30   sec  Table   6 :   Index for A ir   Q uality (IAQ) classification and color - coding 12  IAQ Index   Air Quality   Impact (long - term exposure)   Suggested action  0   â€“   50   E xcellent   Pure   air; best for well - being   No measures needed  51   â€“   100   G ood   No   irritation or impact on well - being   No measures needed  101   â€“   150   Lightly polluted   Reduction of well - being possible   Ventilation suggested  151   â€“   200   Moderately polluted   More significant irritation possible   Increase ventilation with clean air  201   â€“   250   Heavily polluted   Exposition might lead to effects like  headache depending on type of VOCs   optimize ventilation  251   â€“   350   Severely polluted   More severe health issue possible if  harmful VOC present  Contamination should be  identified if   level is reached even  w/o presence of people ; maximize  ventilation & reduce attendance  > 351   Extremely polluted   Headaches, additional neurotoxic e ffects  possible  Contamination needs to be  identified; avoid   presence in room  and maximize ventilation  Table   7 : bVOC mixture with Nitrogen as carrier gas  Molar fraction   Compound   Production tolerance   Certified accuracy  5 ppm   Ethane   20 %   5 %  10 ppm   Isoprene /2 - methyl - 1,3   Butadiene   20 %   5 %  10 ppm   Ethanol   20 %   5 %  50 ppm   Acetone   20 %   5 %  15 ppm   Carbon Monoxide   10 %   2 %  11   For customization we recommend to use the BME AI - Studio software with   comprehensive documentation (see   Table   18 : Software components ).  12   According to the guidelines issued by the German Federal Environmental Agency, exceeding 25 mg/m 3   of total VOC   can   lead to headaches and further neurotoxic impact on health.   The  BSEC   software   auto - calibrates the low and high concentrations applied during testing to IAQ of 5 0   and 2 0 0, respectively.

Bosch Sensortec   |   BME688 Datasheet   12   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  1.3   Humidity sensor specification  Table   8 : Humidity parameter specification  Parameter   Symbol   Condition   Min   Typ   Max   Unit  Operating Range 13   - 40   25   85   Â°C  0   100   % r.H.  Full accuracy range   0   65   Â°C  10   90   % r.H.  Supply Current   I DD,H  1 Hz forced mode,  temperature and humidity  measurement  2.1   2.8   Î¼A  Absolute Accuracy   A H   20   -   80 %   r.H. , 25   Â°C,  including   hysteresis  Â±3   % r.H.  Hysteresis 14   H H   10 â†’ 90 â†’ 10 %   r.H. , 25Â°C   Â±1. 5   % r.H.  Nonlinearity 15   NL H   10 â†’ 90   %   r.H. , 25Â°C   1.7   % r.H.  Response time to  complete 63% of step 16  Ï„ 0 - 63%   N 2   (dry)   â†’   9 0 %   r.H. , 25Â°C   8   s  Resolution   R H   0.008   % r.H.  Noise in   humidity  (RMS)  N H   Highest oversampling   0.01   % r.H.  Long - term stability   âˆ† H stab   10   -   90 %   r.H. , 25Â°C   0.5   % r.H./  year  13   W hen exceeding the operating range (e.g. for soldering), humidity sensing performance is temporarily degraded and reconditioni ng is recommended   as described in Section   7.7 . Operating  range only for non - condensing environment.  14   For hysteresis measurement the sequence 0 â†’ 10 â†’ 30 â†’ 50 â†’ 70 â†’ 90 â†’ 70 â†’ 50 â†’ 30 â†’ 10 % r.H. is used. The hysteresis is defined as the maximum difference between measurements at of  the same humidity up / down branch and the averaged curve of both branches.  15   Non - linear contributions to the sensor data are corrected during the calcu lation of the relative humidity by the compensation formulas described in Section   3.5   and following.  16   The air - flow in direction to the vent - hole of the device has to   be dimensioned in a way that a sufficient air exchange inside to outside will be possible. To observe effects on the response  time - scale of the device an air - flow velocity of approximately 1 m/s is needed.

Bosch Sensortec   |   BME688 Datasheet   13   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  1.4   Pressure sensor specification  Table   9 : Pressure parameter specification  Parameter   Symbol   Condition   Min   Typ   Max   Unit  Operating temperature  range   T A  operational   - 40   25   85   Â°C  full accuracy   0   65  Operating pressure  range   P   full accuracy   300   1100   hPa  Supply current   I DD,LP  1 Hz forced mode,  pressure and temperature,  lowest power  3.1   4.2   Î¼A  Temperature coefficient  of offset 17   TCO P   25   -   40   Â°C, 900   hPa  Â±1. 3   Pa/K  Â±1 0 . 9   cm/K  Absolute accuracy  pressure  A p, full   300   -   1100 hPa  0   -   65Â°C   Â± 0.6   hPa  Relative accuracy  pressure  A rel  700   â€“   900   hPa,  25   -   40 Â°C, at constant  humidity  Â± 0.12   hPa  A rel  900   â€“   1100   hPa  25   -   40 Â°C, at constant  humidity  Â±0.12   hPa  Resolution of  pressure output data   R P   Highest oversampling   0.18   Pa  Noise in pressure   N P,fullBW  Full bandwidth, highest  oversampling  1.4   Pa  11   cm  Reduced   bandwidth, highest  oversampling  0.2   Pa  1.7   cm  Solder drift   Minimum solder height 50   Î¼m   - 0.5   1.2   +2.0   hPa  Long - term stability 18   P stab   per year   Â±1.0   hPa  Possible sampling rate   f sample_P   Lowest oversampling,  see chapter   3.6.2   157   182   Hz  17   When changing temperature from 25 Â°C to 40 Â°C a t constant pressure / altitude, the measured pressure   / altitude will change by (15 Ã— TCO P ) .  18   Long - term stability is specified in the full accuracy operating pressure range 0 â€’ 65 Â°C

Bosch Sensortec   |   BME688 Datasheet   14   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  1.5   Temperature sensor specification  Table   10 : Temperature parameter specification  Parameter   Symbol   Condition   Min   Typ   Max   Unit  Operating temperature  range   T A   operational   - 40   25   85   Â°C  Supply current   I DD,T  1 Hz forced mode,  temperature measurement  only  1.0   Î¼A  Absolute accuracy  temperature 19   A T   0   -   65   Â°C   Â±0.5   Â°C  Output resolution   R T   API output resolution   0.01   Â°C  RMS noise   N T   Lowest oversampling   0.005   Â°C  19   Temperature measured by the internal temperature sensor. This temperature value depends on the PCB temperature, sensor elemen t self - heating and ambient temperature and is typically  above ambient temperature.

Bosch Sensortec   |   BME688 Datasheet   15   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  2.   Absolute maximum ratings  The a bsolute maximum ratings are determined over   the   complete temperature range using corner lots.   The values are  provided in   Table   11 .  Table   11 :   Absolute maximum ratings  Parameter   Condition   Min   Max   Unit  Voltage at any supply pin   V DD   and V DDIO   pin   - 0.3   4.25   V  Voltage at any interface pin   - 0.3   V DDIO   + 0.3   V  Storage temperature   â‰¤ 65%   r.H.   - 45   +85   Â°C  Pressure   0   20   000   hPa  ESD  HBM, at any pin   Â±2   kV  Machine model   Â±200   V

Bosch Sensortec   |   BME688 Datasheet   16   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  3.   Sensor usage  3.1   Use cases  The key features of the BME 688   hardware - software system are:  ï‚„   Selectivity to target gas classes  ï‚„   Provision   for custom usecase develpment  ï‚„   Calculation of index for air quality (IAQ) level outside of the device  ï‚„   Calculation of ambient air temperature outside of the device (e.g. phone)  ï‚„   Calculation of ambient relative humi dity outside of the device  3.2   Selectivity  Selectivity to target gas classes will enable wide variety of use cases   for customers . From a gas sensing perspective  selectivity is the ability to classify different gas compositions (with different combinations and   concentrations of gases) that  occur in different situations.   Operating the m etal oxide layer   of   the   gas sensor   at different temperatures enable measuring  with different sensitivities and can   create   a   unique fingerprint for   numerous   gas compositions.   The s t andard heater profile  is as shown below figure is executed in sensor ASIC which consists of 10 heater temperature steps.   Features   interpreted  by AI based software bring s   selectivity feature.  Figure   1 :   Standard Heater profile  3.3   I ndoor - air - quality  The   BME688 is a metal oxide - based sensor that detects   gases   by adsorption (and subsequent oxidation/reduction) on its  sensitive layer.   The intensity   of the signal typically scales with   the   chemical rea ctivity   of the gases. The   BME688 reacts to  most volatile compounds   as well as many other gases   polluting indoor air (exception s   are   very few   gases which are  chemically pretty ine r t, e.g.   N 2   and   CO 2 ). In contrast to sensors selective for one specific component,   the   BME688 is capabl e  of measuring the sum of VOCs/contaminants in the surrounding air. This enables   the   BME688 to detect e.g. outgasing from  paint, furniture and/or garbage, high VOC levels due to cooking, food consumption, exhaled breath and/or sweating.

Bosch Sensortec   |   BME688 Datasheet   17   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  As a raw signal,   the   BME688 will output   the gas sensor   resistance values and its changes due to varying VOC concentrations  (the higher the concentration of reducing VOCs, the lower the resistance and vice versa). Since this raw signal is influenced  by para meters other than VOC concentration (e.g. humidity level), the raw values are transformed to an index for air quality  (IAQ) by smart algorithms inside BSEC.  The IAQ scale ranges from 0 (clean air) to 500 (heavily polluted air). During operation, the algor ithms automatically calibrate  and adapt themselves to the typical environments where the sensor is operated (e.g., home, workplace, inside a car, etc.).  This automatic background calibration ensures that users experience consistent IAQ performance. The cal ibration process  considers the recent measurement history (typ. up to four days , configurable ) to ensure that IAQ ~ 5 0   corresponds to â€œtypical  goodâ€ air and IAQ ~ 2 0 0 indicates â€œtypical   polluted â€ air.  3.4   Sensor modes  The sensor supports low - level power modes:   sleep , parallel   and forced mode.   These modes can be selected using the  mode <1:0>   control register (see Section   5.3.1.3 ). The key differences between the   modes are summarized in   Table   12 .  M easurement cycle is abbreviated as T P HG (Temperature,   Pressure,   Humidity and Gas) in the following descriptions .  A fter a power - up   sequence, the   sensor   automatically starts in sleep mode.   If the device is currently performing a  measurement, execution of mode switching commands is delayed until the end of the currently running measurement period .  It is important to note that, f urther m ode change commands or other write commands to the control registers are ignored until  the mode change command has been executed.   All control registers should be set to the desired values before writing to the  mode register.  Table   12 :   Low - level operation modes  Operation mode   mode<1:0>   Key features  Sleep   00   ï‚„   No measurements are performed  ï‚„   Minimal power   consumption  Forced mode   01  ï‚„   Single   T P H G cycle is performed  ï‚„   Sensor automatically returns to sleep mode afterwards  ï‚„   Gas sensor   heater only operates during gas measurement  Parallel mode   10  ï‚„   Multiple   T P H G cycle s are performed  ï‚„   Sensor will not automatically returns to sleep mode  ï‚„   Gas sensor heater operates   in parallel to TPH measurement  In   forced mode, temperature,   pressure,   humidity and gas conversion are performed sequentially   for 1 heater temperature  step   and heating duration .   In parallel mode, TPH measurements and gas conversion   are performed para lle l ly. Hence   in  parallel mode at least   one of T,P,H is expected to be   enabled .   Up to 10 temperature   steps   and heating durations for the gas  sensor hot plate can be stored in the sensor registers   and can be executed as heater profile.   H eater profile s   can be repeated  without host support.   In the   Fi gure 1 ,   heater   steps   and the corresponding measurements are identified as G 0   â€“   G 9 .  Figure   2   illustrates the handling of these measurement sequences and the gas sensor hot plate is heated for the forced mode  and parallel mode .

Bosch Sensortec   |   BME688 Datasheet   18   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4 T   P   H   G 0  T   P   H   G 0   T   P   H   G 1   T   P   H   G 2  Legend  Forced mode   Sleep mode  Heating G 0  Heater operation  Parallel mode   ...  Heating G 0   Heating G 1   Heating G 2  ADC Operation  Figure   2 :   Sequence   of ADC and gas sensor heater operation

Bosch Sensortec   |   BME688 Datasheet   19   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  3.5   Sensor configuration  Quick start   â€“   Forced mode  The sensor is configured by writing to a set of control registers (see Chapter   5   for a detailed list of all available registers and  their descriptions). This section illustrates, with the help of a basic step - by - step example, how to configure the sensor for  simple forced mode measurements with a single heater   step . For a more deta iled description of the measurement flow,  please refer to Section   3.6 .  In this example, the sensor will be configured to use 2x oversampling for its   temperature measurements , 16x oversampling  for the pressure signal , and 1x oversampling for humidity. Moreover, the gas sensor hot plate will be configured to be  heated for 100 ms at 300 Â°C before the gas measurement is performed.  First,   the user must co nfigure the oversampling settings for temperature , pressure   and humidity by setting the control  registers   osrs_t<2:0>   and   osrs_h<2:0> , respectively. Supported settings range from 16x oversampling down to 0x, which is  equivalent to skipping   the correspondin g sub - measurement.   See Section   5.3.3   for further details.  1.   Set humidity oversampling to 1x by writing 0b001 to   osrs_h <2:0>  2.   Set temperature oversampling to 2x by writ ing 0b010 to   osrs_t<2:0>  3.   Set pressure oversampling to 16x by writing 0b101 to   osrs_p<2:0>  It is highly recommended to set first   osrs_h <2:0>   followed by   osrs_t <2:0>   and   osrs_ p<2:0>   in one write command (see  Section   3.6 ).  Next , the user shall set at least one gas sensor hot plate temperature   step   and heating duration. Up to 10 heating duration  can be configured through the control registers   gas_wait_x <7:0>,   where x ranges from 0 to 9. See Section   5.3.4   for definition  of register content. The corresponding heater   step   are s tored in the registers   res_heat_x <7:0> . Section   3.6.5   explains how  to convert the target heater temperature, e.g. 300 Â°C, into a register code. For forced mode ope ration, the used heater   step  is selected by setting the control register   nb_conv <3:0>   to the heater profile to be used, e.g. to use   gas_wait_0 <7:0>   and  res_heat_0 <7:0> ,   nb_conv <3:0>   shall be set to 0x0. Finally, gas functionality shall be enabled by settin g the   run_gas_ h   bit  to 1.  4.   Set   gas_wait_0 <7:0>   to 0x59 to select 100 ms heat up duration  5.   Set the corresponding heater s tep   by writing the target   heater   resistance to res_heat_0 <7:0>  6.   Set   nb_conv <3:0>   to 0x0 to select the previously defined heater settings  7.   Se t   run_gas_ h   to 1 to enable gas measurements  Now, a single forced mode measurement with the above settings can be triggered by writing 0b01 to   mode <1:0>.   For more  details on data readout, please see Section   5.3.1.3 .  8.   Set   mode<1:0>   to 0b01 to trigger a single measurement.  Please find abstracted   example   code   using   BME68x - Sensor - API   in   https://github.com/Bosch Sensortec/BME68x - Sensor -  API/blob/master/examples/forced_mode/forced_mode.c  Sensor configuration flow   â€“   Forced mode  Figure   3   illustrates which control registers must be set. For details on the indiv idual control registers, please   refer   to  Chapter   5 .   Moreover, details on the measurement flow for the individual modes can be found in Section   3.6 .

Bosch Sensortec   |   BME688 Datasheet   20   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Figure   3 : Sensor configuration flow   in Forced Mode  Quick start   â€“   Parallel mode  Please find abstracted   example   code   using   BME68x - Sensor - API   in   https://github.com/BoschSensortec/BME68x - Sensor -  API/tree/master/examples/parallel_mode  Sensor configuration flow   â€“   Parallel mode  Figure   3   illustrates which control registers must be set. For details   on the individual control registers, please   refer   to  Chapter   5 .   Moreover, details on the measurement flow for the individual modes can be found in Section   3.6 .  Forced Mode  Select oversampling for T, P and H  â€¢   Set   osrs_x<2:0>  Select IIR filter for temperature sensor  â€¢   Set   filter<2:0>  Enable gas conversion  â€¢   Set   run_gas   to 1  Select index of heater step  â€¢   Set   nb_conv <3:0>   (from 0 to 9)  Define heater - on time  â€¢   Convert duration to register code  â€¢   Set   gas_wait_x<7:0> (time base unit is ms)  Set heater temperature  â€¢   Convert temperature to register code  â€¢   Set   res_heat_x<7:0>  Set mode to forced mode  â€¢   Set   mode<1:0>   to 0b01

Bosch Sensortec   |   BME688 Datasheet   21   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Figure   4 : Sensor configuration flow   in Parallel Mode  Parallel Mode  Select oversampling for T, P and H  â€¢   Set   osrs_x<2:0>  Select IIR filter for temperature sensor  â€¢   Set   filter<2:0>  Enable gas conversion  â€¢   Set   run_gas   to 1  Select number of steps in heater profile  â€¢   Set   nb_conv <3:0>   (from 1 to 10)  Set heater - on time of each step  â€¢   Calculate required wait time before each TPHG  measurement and set gas_wait_shared<7:0>  â€¢   Calculate number of TPHG repitions needed and set  gas_wait_x<7:0> (up to 255)  Set heater temperature of each step  â€¢   Convert heater temperature to register code  â€¢   Set   res_heat_x<7:0>  Set mode to parallel mode  â€¢   Set   mode<1:0>   to 0b10

Bosch Sensortec   |   BME688 Datasheet   22   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Figure   5 :   Illustration of parallel measurement mode, an example with 3 step   heater   profile  3.6   Measurement flow  Referring to   Figure   2 , the   BME68 8   measurement period consists of a   temperature , pressure   and humidity measurement  with selectable oversampling. Moreover, it contains a heating phase for the gas sensor hot plate as well as a measurement  of the gas sensor resistance.   In parallel mode   there are 3 data registers naming Field 0, Field 1 and Field 2 which will be  filled in first in first out order.  After the measurement period, the   pressure and   temperature data can be passed through an optional IIR filter, which removes  short - term fluctua tions. For humidity   and gas, such a filter is not needed and has not been implemented.  Temperature measurement  Temperature measurement can be enabled or skipped. Skipping the measurement is typically not recommended since  temperature information is used   to compensate temperature influences in the other parameters. When enabled, several  oversampling options exist. The temperature measurement is controlled by the   osrs_t <2:0>   setting which is detailed in  Section   5.3.3.2 . For the temperature measurement, oversampling is possible to reduce the noise. The resolution of the  temperature data depends on the IIR filter (see Section   5.3.3.4 ) and the oversampling setting:  ï‚„   When the IIR filter is enabled, the temperature resolution is 20 bit  ï‚„   When the IIR filter is disabled, the temperature resolution is 16 + ( osrs_t   â€“   1) bit, e.g. 18 bit when   osrs_t   is set to â€˜3â€™  Using the variables listed in   Table   13 , the following code will calculate the compensated temperature value (in degr ees  Celsius). It is, however, recommended to use the sensor API available on   github   (Chapter   0 ) for a friendlier user  experience. measuring gas measuring new data flag gas meas index sub meas index meas sequence   wait   T   P   H   G0   wait   T   P   H   G   wait   T   P   H   G1   wait   T   P   H   G2 Heater profile gas_wait_shared Number of steps  Heating step 0   Heating step 1   Heating step 2  0   1   1   2  0   1   2   3  gas_wait_0=1   gas_wait_1=2   gas_wait_2=1  Data read by   host   Data read by   host  nb_conv   = 3  Field 0 data updated  Field 0 status updated  Field 1 data updated  Field 1 status updated  Field 2 data updated  Field 2 status updated  Field 0 data updated  Field 0 status updated  Dummy gas   conversion  Write '10' to   mode   register to start

Bosch Sensortec   |   BME688 Datasheet   23   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Floating point:  var1 = ((( double )temp_adc / 16384.0)   -   (( double )par_t1 / 1024.0)) * ( double )par_t2;  var2 = (((( double )temp_adc / 131072.0)   -   (( double )par_t1 / 8192.0)) *  ((( double )temp_adc / 131072.0)   -   (( double )par_t1 / 8192.0))) *  (( double )par_t3 * 16.0);  t_fine = var1 + var2;  temp_comp = t_fine / 5120.0;  Integer:  var1 = (( int32_t )temp_adc >> 3)   -   (( int32_t )par_t1 << 1);  var2 = ( var1 * ( int32_t )par_t2) >> 11;  var3 = ((((var1 >> 1) * (var1 >> 1)) >> 12) * (( int32_t )par_t3 << 4)) >> 14;  t_fine = var2 + var3;  temp_comp = ((t_fine * 5) + 128) >> 8;  where  ï‚„   par_t1, par_t2   and   par_t3   are calibration parameters,  ï‚„   temp _ adc   is the   raw   temperature output data,   see   5.3.5.2  ï‚„   temp _comp   is the   compensated temperature output data   in   degrees Celsius.  Table   13 : Variable names and register addresses for   temp_comp   calculation  Variable name   Register address (LSB / MSB)  par_t1   0xE9 / 0xEA  par_t2   0x8A / 0x8B  par_t3   0x8C  temp_adc   Field 0   -   0x24<7:4> / 0x23 / 0x22  Field 1   -   0x 35 <7:4> / 0x 34   / 0x 33  Field 2   -   0x 46 <7:4> / 0x 45   / 0x 44  Pressure   measurement  Pressure measurement can be enabled or skipped. When enabled, several oversampling options exist. The pressure  measurement is controlled by the osrs_p<2:0> setting which is detailed in Section   5.3.3 . For the pressure measurement,  oversampling is possible to reduce noise. The resolution of the pressure data depends on the IIR filter (see Section   5.3.3.4 )  and the oversampling setting:  ï‚„   When the IIR filter   is enabled, the pressure resolution is 20 bit  ï‚„   When the IIR filter is disabled, the pressure resolution is 16 + ( osrs_p   â€“   1) bit, e.g. 18 bit when   osrs_p   is set to â€˜3â€™  Using the variables listed in   Table   14   the following code will calculate the compensated pressure value (in Pascal). It is,  however, recommended to use the sensor API available on   github   for a friendlier user experience.

Bosch Sensortec   |   BME688 Datasheet   24   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Floating point:  var1 = (( double )t_fine / 2.0)   -   64000.0;  var2 = var1 * var1 * (( double )par_p6 / 131072.0);  var2 = var2 + (var1 * ( double )par_p5 * 2.0);  var2 = (var2 / 4.0) + (( double )par_p4 * 65536.0);  var1 = (((( double )par_p3 * var1_p * var1) / 16384.0) +  (( double )par_p2 * var1_p)) / 524288.0;  var1 = (1.0 + (var1 / 32768.0)) * ( double )par_p1;  press _comp = 1048576.0   -   ( double )press _ adc ;  press_co mp = ((press_comp   -   (var2 _ p   / 4096.0)) * 6250.0) / var1;  var1 = (( double )par_p9 * press_comp * press_comp) / 2147483648.0;  var2 = press_comp * (( double )par_p8 / 32768.0);  var3 = (press_comp / 256.0) * (press_comp / 256.0) *  (press_comp / 256.0) * (par_p10 / 131072.0);  press_comp = press_comp + (var1 _ p   + var2 _ p   + var3 _ p   +  (( double )par_p7 * 128.0)) / 16.0;  Integer:  var1 = (( int32_t )t_fine >> 1)   -   64000;  var2 = ((((var1 >> 2) * (var1 >> 2)) >> 11) * ( int32_t )par_p6) >> 2;  var2 = var2 + ((var1 * ( int32_t )par_p5) << 1);  var2 = (var2 >> 2) + (( int32_t )par_p4 << 16);  var1 = (((((var1 >> 2) * (var1 >> 2)) >> 13) *  (( int32_t )par_p3 << 5))   >> 3) + ((( int32_t )par_p2 * var1) >> 1);  var1 = var1 >> 18;  var1 = ((32768 + var1) * ( int32_t )par_p1) >> 15;  press_comp = 1048576   -   press_raw;  press_comp = ( uint32_t )((press_comp   -   (var2 >> 12)) * (( uint32_t )3125));  if (press_comp >= (1 << 3 0 ))  press_comp = ((press_comp / ( uint32_t )var1) << 1);  else  press_comp = ((press_comp << 1) / ( uint32_t )var1);  var1 = (( int32_t )par_p9 * ( int32_t )(((press_comp >> 3) *  (press_comp >> 3)) >> 13)) >> 12;  var2 = (( int32_t )(press_comp >> 2) * ( int32_t )par_p8) >> 13;  var3 = (( int32_t )(press_comp >> 8) * ( int32_t )(press_comp >> 8) *  ( int32_t )(press_comp >> 8) * ( int32_t )par_p10) >> 17;  press_comp = ( int32_t )(press_comp) +  ((var1 + var2 + var3 + (( i nt32_t )par_p7 << 7)) >> 4);  where  ï‚„   par_p1, par_p2, â€¦, par_p10   are calibration parameters,  ï‚„   press _ adc   is the   raw pressure output data,   see   5.3.5.1  ï‚„   press_comp   is the   compensated pressure output data   in   Pascal.

Bosch Sensortec   |   BME688 Datasheet   25   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Table   14 : Variable names and register addresses for   press_comp   calculation  Variable name   Register address (LSB / MSB)  par_p1   0x8E / 0x8F  par_p2   0x90 / 0x91  par_p3   0x92  par_p4   0x94 / 0x95  par_p5   0x96 / 0x97  par_p6   0x99  par_p7   0x98  par_p8   0x9C / 0x9D  par_p9   0x9E / 0x9F  par_p10   0xA0  press_adc   Field 0   -   0x21<7:4> / 0x20 / 0x1F  Field 1   -   0x 32 <7:4> / 0x 31   / 0x 30  Field 2   -   0x 43 <7:4> / 0x 42   / 0x 41  Humidity measurement  The humidity measurement can be enabled or skipped. When enabled, several oversampling options exist. The humidity  measurement is controlled by the   osrs_h <2:0>   setting, which is described in detail in Section   5.3.3.1 . For the humidity  measurement, oversampling is possible to reduce noise. The resolution of the humidity measurement is fixed at 16 bit ADC  output.  Using the variables listed in   Table   15 , the following code will calculate the compensated humidity value (in percent). It is,  however, recommended to use the sensor API available on   github   for a friendlier user experience.  Floating point:  var1 = hum_adc   -   ((( double )par_h1 * 16.0) + ((( double )par_h3 / 2.0) * temp_comp));  var2 = var1 * ((( double )par_h2 / 262144.0) *   (1.0 + ((( double )par_h4 / 16384.0) *  temp_comp) + ((( double )par_h5 / 1048576.0) * temp_comp * temp_comp)));  var3 = ( double )par_h6 / 16384.0;  var4 = ( double )par_h7 / 2097152.0;  hum_comp = var2 + ((var3 + (var4 * temp_comp)) * var2 * var2);  Integer :  temp_scaled = ( int32_t )temp_comp;  var1 = ( int32_t )hum_adc   -   ( int32_t )(( int32_t )par_h1 << 4)   â€“  (((temp_scaled * ( int32_t )par_h3) / (( int32_t )100)) >> 1);  var2 = (( int32_t )par_h2 * (((temp_scaled *  ( int32_t )par_h4) / (( int32_t )100)) +  (((temp_scaled * ((temp_scaled * ( int32_t )par_h5) /  (( int32_t )100))) >> 6) / (( int32_t )100)) + (( int32_t )(1 << 14)))) >> 10;

Bosch Sensortec   |   BME688 Datasheet   26   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  var3 = var1 * var2;  var4 = ((( int32_t )par_h6 << 7) +  ((temp_scaled * ( int32_t )par_h7) / (( int32_t )100))) >> 4;  var5 = ((var3 >> 14) * (var3 >> 14)) >> 10;  var6 = (var4 * var5) >> 1;  hum_comp = (var3 + var6) >> 12;  hum_comp = (((var3 + var6) >> 10) * (( int32_t ) 1000)) >> 12;  where  ï‚„   par_h1, par_h2,   â€¦, par_h7   are calibration parameters,  ï‚„   h um _ adc   is the   raw humidity output data,   see   5.3.5.3  ï‚„   hum_comp   is the   compensated humidity output data   in   percent.  Table   15 : Variable names and register addresses for   hum_comp   calculation  Variable name   Register address (L SB / MSB)  par_h1   0xE2<3 : 0 > / 0xE3  par_h2   0xE2<7:4> / 0xE1  par_h3   0xE4  par_h4   0xE5  par_h5   0xE6  par_h6   0xE7  par_h7   0xE8  hum_adc   Field 0   -   0x26 / 0x25  Field 1   -   0x 37   / 0x 36  Field 2   -   0x 48   / 0x 47  IIR filter  The environmental pressure is   subject to many short - term changes, caused external disturbances.   To suppress disturbances  (e.g. slamming of door or wind blowing into the sensor) in the output data without causing additional interface traffic and  processor work load, the BME68 8   features an internal IIR filter (see Section   5.3.3.4 ). It effectively reduces the bandwidth of  the temperature   and pressure   output signals and increases the resol ution of the output data to 20 bit, noting that the humidity  and gas values inside the sensor does not fluctuate rapidly and does not require low pass filtering. The output of a next  measurement step is filtered using the following formula:  ğ‘¥ ğ‘“ğ‘–ğ‘™ğ‘¡   [ ğ‘› ]   =   ğ‘¥ ğ‘“ğ‘–ğ‘™ğ‘¡   [ ğ‘›   âˆ’   1 ]   âˆ™   ( ğ‘   âˆ’   1 )   +   ğ‘¥ ğ´ğ·ğ¶  ğ‘  ğ‘¥ ğ‘“ğ‘–ğ‘™ğ‘¡ [ ğ‘›   âˆ’   1 ]   is the data coming from the current filter memory, and   ğ‘¥ ğ´ğ·ğ¶   is the data coming from current ADC acquisition.  ğ‘¥ ğ‘“ğ‘–ğ‘™ğ‘¡ [ ğ‘› ]   denotes the new value of filter memory and the value that will be sent to the o utput registers.  The IIR filter can be configured to different filter coefficients, which slows down the response to the sensor inputs. Note t hat  the response time with enabled IIR filter depends on the number of samples generated, which means that the data output  rate mus t be known to calculate the actual response time.

Bosch Sensortec   |   BME688 Datasheet   27   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  When writing to the register   filter , the filter is reset . The next ADC values will pass through the filter unchanged and become  the initial memory values for the filter. If temperature   or pressure   measure ments are skipped, the corresponding filter memory  will be kept unchanged even though the output registers   are set to 0x80000. When the previously skipped measurement is  re - enabled, the output will be filtered using the filter memory from the last time whe n the measurement was not skipped. If  this is not desired, please write to the filter register in order to re - initialize the filter.  Gas sensor heating and measurement  The operation of the gas sensing part of BME68 8   involves two steps:  1.   Heating the gas se nsor hot plate to a target temperature (typically between 200 Â°C and 400 Â°C) and keep that  temperature for a certain duration of time.  2.   Measuring the resistance of the gas sensitive layer.  Up to 10 different hot plate temperature set points can be configure d by setting the registers   res_heat_x<7:0> , where x =  0â€¦9 .The internal heater control loop operates on the resistance of the heater structure. Hence, the user first needs to  convert the target temperature into a device specific target resistance before wr iting the resulting register code into the sensor  memory map.  Using the variables listed   in   Table   16 , the following code will calculate register code that to be writte n to   res _heat_x<7:0> . It  is, however, recommended to use the sensor API available on github (Chapter   0 ) for a friendlier user experience.  Floating point:  var1 = (( double )par_g1 / 16.0) + 49.0;  var2 = ((( double )par_g2 / 327 68.0) * 0.0005) + 0.00235;  var3 = ( double )par_g3 / 1024.0;  var4 = var1 * (1.0 + (var2 * ( double ) target _temp));  var5 = var4 + (var3 * ( double )amb_temp);  res_heat_x =   ( uint8_t )(3.4 * ((var5 * (4 .0   / (4 .0   +   ( double ) res_heat_range)) * (1 .0 /(1 .0   +  ( ( double ) res_heat_val * 0.002))))   -   25));  Integer:  var1 = ((( int32_t )amb_temp * par_g3) / 10) << 8;  var2 = (par_g1 + 784) * (((((par_g2 + 154009) * target_temp * 5) / 100) + 3276800) / 10);  var3 = var1 + (var2 >> 1);  var4 = (var3 /   (res_heat_range + 4));  var5 = (131 * res_heat_val) + 65536;  res_heat_x100 =   ( int32_t )(((var4 / var5)   -   250) * 34) ;  res_heat_x = ( uint8_t )((res_heat_x100 + 50) / 100);  where  ï‚„   par_g1 ,   par_g2 , and   par_g3   are calibration parameters,  ï‚„   target_temp   is the target heater temperature in degree   C elsius ,  ï‚„   amb_temp   is the   ambient temperature (hardcoded or read from temperature sensor),  ï‚„   var5   is the target heater resistance in Ohm ,  ï‚„   res_heat_x   is the decimal value that   needs to be stored in register, where â€˜ x â€™ corresponds to the temperature profile  number between 0 and 9,  ï‚„   res _heat_range   is   the   heater   range stored in register address   0x02   < 5:4 >, and  ï‚„   res_heat_val is the heater resistance correction factor stored in register address 0x00 (signed, value from   - 128 to  127).

Bosch Sensortec   |   BME688 Datasheet   28   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Table   16 : Variable names and regi ster addresses for   res _heat_x   calculation  Variable name   Register address (LSB / MSB)  par_g1   0xED  par_g2   0xEB/0xEC  par_g3   0xEE  res_heat_range   0x02 <5:4>  res_heat_val   0x00  For each of the 10 temperature   steps , the heating duration must be   specified. Referring to   Figure   2 , the heating phase   starts  after the temperature , pressure   and humidity measurements are complete. This means there is no heating in parallel   to these  measurements, which is desirable to minimize undesi red cross - influences between the various sensor components.  The heating duration is specified by writing to the corresponding   gas_wait_x<7:0>   control register .   Heating durations  between 1 ms and   4032   ms can be configured. In practice, approximately 20 â€“ 30 ms are necessary for the heater to reach  the intended target temperature.  3.7   Data readout  The procedure goes as follows, the   new_data   bit (see Section   5.3.6.1 ) can be checked to see if a new data is generated. If  gas measurements are performed the   gas_valid_ r   (see Section   5.3.6.5 ) and   heat_stab_ r   (see Section   5.3.6.6 ) status bits of  the respectively field should be checked to ensure that the gas measurement was successful. If   heat_sta b_ r   is zero, it  indicates that either the heating time was not   enough   to allow the sensor to reach to configured target temperature or that  the target temperature was too high for the sensor to reach.  After the uncompensated values of temperature, pressur e and humidity have been read, the actual humidity, pressure and  temperature need to be calculated using the compensation parameters stored in the device. Please refer to the   BME68x -  Sensor - API   for more details.  Gas resistance readout  Readout of gas resistance ADC value and calculation of gas resistance consists of 2 steps  1.   Read   gas ADC value ( gas _adc ) and gas ADC range ( gas_rang e ) (see Section   5.3.5 )  2.   Convert ADC value into gas resistance in ohm  Using the variables listed in   Table   17 , the conversion is done as follows:  Floating point:  uint32_t var1 = UINT32_C(262144) >> gas_range;  int32_t var2 = ( int32_t ) gas_adc   -   INT32_C(512);  var2 *= INT32_C(3);  var2 = INT32_C(4096)   + var2;  gas_res = 1000000.0f * (float)var1 / (float)var2;  Integer :  uint32_t var1 = UINT32_C(262144) >> gas_range;  int32_t var2 = ( int32_t ) gas_adc   -   INT32_C(512);  var2 *= INT32_C(3);  var2 = INT32_C(4096) + var2;  /*   multiplying   10000   then   dividing then   multiplying by   100   instead   of multiplying   by 1000000 to prevent  overflow */

Bosch Sensortec   |   BME688 Datasheet   29   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  calc_gas_res = (UINT32_C(10000) * var1) / ( uint32_t )var2;  gas_res = calc_gas_res * 100;  where  ï‚„   g as _adc   is the raw gas resistance output data (i.e. ADC value),   see   0  ï‚„   gas_range   is   the   ADC range of   the   measured gas resistance ,   see   5.3.5.5  ï‚„   g as_res is   the compensated gas resistance output data in   Ohms.  Table   17 :   Variable names and register addresses for   gas_res   calculation  Variable name   Register address (LSB / MSB)  gas_adc   Field 0   -   0x2D<7:6> / 0x2C  Field   1   -   0x3E<7:6> / 0x3D  Field   2   -   0x4F<7:6> / 0x4E  gas_range   Field 0   -   0x2 D <3:0>  Field   1   -   0x3E <3:0>  Field 2   -   0x4F <3:0>

Bosch Sensortec   |   BME688 Datasheet   30   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  4.   Software  4.1   BME   software component s  Table   18 : Software components  Software component   Type   Function   Link  BME68x sensor API   C code   Provide software interfaces to   get   compensated  raw data from sensor via SPI/I2C interface   BME68x - Sensor - API  BSEC   C   static library   Provides fused sensor outputs and AI interpreter  for classifcation of gas classes   BME688 - Software  BME AI Studio   PC   application   AI toolchain to develop, verify and deploy custom  gas classification use cases  4.2   BME software library   -   BSEC software  BME6 8 8   sensor is intended to be used together with Bosch Software Environmental Cluster (BSEC) solution and   BME6xy  sensor API   to unlock its full potential. The BSEC software features intelligent algorithms which enable use cases such as  indoor - air - quality monito ring using the   BME6 8 8 .   Moreover, the software algorithms handle humidity compensation, baseline  as well as long - term drift correction of the gas sensor signal.  Bosch Sensortec BSEC software is available as a closed source binary which will be made availa ble via a Software License  Agreement (SLA) on the Bosch Sensortec   website.  Different power modes for the gas sensor and corresponding data rates are supported by the software solution:  ï‚„   Gas Scan mode (scan)   is designed for interactive applications where s electivity of traget gases are needed in  addition in indoor airquality monitoring.   The s tandard heater   profile   has   an   update rate of 10.8 s   and   can   be   finetuned  for use - cases using BME AI Studio .  ï‚„   Ultra low power (ULP)   mode   is designed for   battery - powered   and/or frequency - coupled   devices over extended  periods of time.   This mode features an update rate   of   300 seconds   an d an average current consumption of   <0.1   mA  ï‚„   Quick   Ultra - low power (q - ULP )   has a 3 s data rate for Temprature, pressure and humidity w /o significantly  increasing the power consumption compared to ULP.  ï‚„   Low power (LP)   mode that is designed for interactive applications where the air   quality is tracked and observed at  a higher update rate of 3 seconds with a current consumption of <1 mA  ï‚„   Cont inuous (CONT)   mode provides an update rate   of   1 Hz   and   shall   only   be used   short - term   for use cases that  incorporate   very   fast events or stimulus .  Table   19 : BSEC gas sensor power - modes  BSEC power mode   Update rate   Average   current consumption  Standard gas scan mode (scan )   1/10.8 s   3.96 mA  Ultra - low power mode (ULP)   3.3 mHz   0.09 mA  quick Ultra - low power mode (q - ULP)   0.33 Hz (T, p, h) / 3.3 mHz (IAQ)   0.1 mA  Low power mode (LP)   0.33 Hz   0.9 mA  Continuous mode (for   testing purposes  only)   1 Hz   12 mA  The following table describes the available outputs of BSEC. Full descriptions of the outputs and the available interfaces ar e  available in the integration guide shipped together with the BSEC software.

Bosch Sensortec   |   BME688 Datasheet   31   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Table   20 : BSEC outputs  Output   Description  Raw pressure   Raw data from sensor   API   bypassed to BSEC output  Raw temperature   Raw data from sensor   API   bypassed to BSEC output  Raw relative humidity   Raw data from sensor   API   bypassed to BSEC output  R aw gas resistance   Raw data from sensor   API   bypassed to BSEC output  Sensor - compensated  temperature   (Â°C)  Temperature which is compensated for   internal cross -  influences caused by the BME sensor  Sensor - compensated relative  humidity   (%)  Relative humidity which is compensated for   internal cross -  influences caused by the BME sensor  Sensor - compensated gas  resistance   (Ohm)  Raw ga s resistance   compensated by temperature and  humidity influences .  Ambient temperature   (Â°C)   Ambient temperature after compensating   the   influence of  device   (where BME68 8   is integrated in)   heatsources  Ambient relative humidity   (%)   Ambient relative humidity after   compensating influence of  device   (where BME688   is integrated in)   heatsources  IAQ   (0 - 500)  Index for Air Quality , especially recommended for mobile  devices, since the auto - trim algorithm automatically adopts to  different environments.  Static   IAQ   (â€œs - IAQâ€)   â€œStaticâ€ Index for Air Quality, especially recommended for  stationary devices (w/ o auto - trimming algorithm)  CO 2   equivalents (ppm)  Estimation of the CO 2   level in ppm. The sensor does not  directly measure CO 2 , but derives this from the average  c orrelation between VOCs and CO 2   in humanâ€™s exhaled  breath.  b - VOC equivalents (ppm)  Conversion into breath - VOC equivalents in ppm concentration .  T he   scal ing is derived from lab tests with the   b - VOC   gas  mixture   described in   Table   7 .  Accuracy status   (0 - 3)   Accuracy status of IAQ  S tabilization time   s tatus   Indicates   if the sensor is undergoing initial stabilization during  its first use after   production  Run in status   Indicates when the sensor is ready after after switch - on  Gas (%)  Alternative indicator for air pollution which rates the current raw  gas resistance value based on the individual sensor history:  0% = â€œlowest air pollution   ever measured â€  100% = â€œhighest air pollution level   ever measured â€  Gas scan result (%)  The gas scan result is given in % for each of the used classes.  In standard scan   mode, the p robability of H 2 S and non H 2 S  class   is   provided   by   the variables   GAS_ESTIMATE_1   &  GAS_ESTIMATE_ 2 respectively.   A   m aximum of 4 classes can  be   used   by conf i guring using BME AI - S tudio .

Bosch Sensortec   |   BME688 Datasheet   32   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  5.   Global memory map and register description  5.1   General remarks  C ommuni cation with the device   is performed by reading from and writing to registers. R egisters have a width of 8 bits .   If I 2 C  is used, 8 - bit addressing is utilized. If SPI is used, 7 - bit address is only available for register access.   For details on the  interface, consult Chapter   0 .  In SPI mode complete memory map is accessed using page 0 and page 1. Register   spi_mem_page   is used for page selection.  After power - on,   spi_mem_page   is in its reset state and page 0 (0x80 to   0xFF) will be active. Page 1 (0x00 to 0x7F) will be  active on setting   spi_mem_page   to 1 .  Global memory map consists of calibration registers, control registers, data registers, status registers and reserved registe rs.  T here are , however,   several registers which are   reserved. Accordingly, they should not be written to and   no specific value is  guaranteed when   they are read.  Table   21 : Memory map page selection  Digital Interface   Register address range   Register   spi_mem_page   Memory Page  I 2 C   0x00 to 0xFF   Not Applicable   Not Applicable  SPI   0x80 to 0xFF   0   (default; power on state)   Page 0  SPI   0x00 to 0x7F   1   Page 1

Bosch Sensortec   |   BME688 Datasheet   33   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  5.2   Memory map  The memory map is given in   Table   22 , noting that n ot all reserved registers are   depicted .  Table   22 : Memory map  Register name  I 2 C   SPI  Bit 7   Bit 6   Bit 5   Bit 4   Bit 3   Bit2   Bit 1   Bit 0   Reset state  Adr   Adr   Pg  S t atus   73h   73h   1   spi_mem_page   01h  Variant _ I d   F0h   70h   0   variant _id<7:0>   01h  Reset   E0h   60h   0   r eset<7:0>   00h  Chip _ Id   D0h   50h   0   c hip_id<7:0>   6 1 h  Config   75h   75h   1   f ilter<2:0>   s pi_3w_en   00h  Ctrl_meas   74h   74h   1   o srs_t<2:0>   osrs_p<2:0>   m ode<1:0>   00h  Ctrl_hum   72h   72h   1   s pi_3w_int_en   o srs_h<2:0>   00h  Ctrl_gas_1   71h   71h   1   run_gas   n b_conv<3:0>   00h  Ctrl_gas_0   70h   70h   1   h eat_off   00h  Gas_wait_shared   6Eh   6Eh   1   gas_wait_shared<7:0>   00h  Gas_wait_x   6Dhâ€¦64h   6Dhâ€¦64h   1   g as_wait_9<7:0> downto gas_wait_0<7:0>   00h  Res_heat_x   63hâ€¦5Ah   63hâ€¦5Ah   1   r es_heat_9<7:0> downto res_heat_0<7:0>   00h  Idac_heat_x   59hâ€¦50h   59hâ€¦50h   1   idac_heat_9<7:0> downto idac_heat_0<7:0>   00h  gas_r_lsb   [2]   4F h   4F h   1   g as_r<1:0>   g as_valid_r   h eat_stab_r   g as_range_r   00h  gas_r_msb   [2]   4E h   4E h   1   g as_r<9:2>   00h  hum_lsb   [2]   48 h   48 h   1   h um_lsb<7:0>   00h  hum_msb   [2]   47 h   47 h   1   h um_msb<7:0>   80h  temp_xlsb   [2]   46 h   46 h   1   t emp_xlsb<7:4>   0   0   0   0   00h  temp_lsb   [2]   45 h   45 h   1   t emp_lsb<7:0>   00h  temp_msb   [2]   44 h   44 h   1   t emp_msb<7:0>   80h  press_xlsb [2]   43 h   43 h   1   press_xlsb<7:4>   0   0   0   0   00h  press_lsb [2]   42 h   42 h   1   press_lsb<7:0>   00h  press_msb [2]   41 h   41 h   1   press_msb<7:0>   80h  sub_m eas_ index   [2]   40 h   40 h   1   sub_meas_index_2<7:0>   00h  meas_status   [2]   3F h   3F h   1   n ew_data   g as_measuring   m easuring   g as_meas_index_ 2 <3:0>   00h  gas_r_lsb   [1]   3E h   3E h   1   g as_r<1:0>   g as_valid_r   h eat_stab_r   g as_range_r   00h  gas_r_msb   [1]   3D h   3D h   1   g as_r<9:2>   00h

Bosch Sensortec   |   BME688 Datasheet   34   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  hum_lsb   [1]   37 h   37 h   1   h um_lsb<7:0>   00h  hum_msb   [1]   36 h   36 h   1   h um_msb<7:0>   80h  temp_xlsb   [1]   35 h   35 h   1   t emp_xlsb<7:4>   0   0   0   0   00h  temp_lsb   [1]   34 h   34 h   1   t emp_lsb<7:0>   00h  temp_msb   [1]   33 h   33 h   1   t emp_msb<7:0>   80h  press_xlsb [1]   32 h   32 h   1   press_xlsb<7:4>   0   0   0   0   00h  press_lsb [1]   31 h   31 h   1   press_lsb<7:0>   00h  press_msb [1]   30 h   30 h   1   press_msb<7:0>   80h  sub_m eas_ index   [1]   2F h   2F h   1   sub_meas_index_1<7:0>   00h  meas_status   [1]   2E h   2E h   1   n ew_data   g as_measuring   m easuring   g as_meas_index_ 1 <3:0>   00h  gas_r_lsb   [2]   2D h   2D h   1   g as_r<1:0>   g as_valid_r   h eat_stab_r   g as_range_r   00h  gas_r_msb   [0]   2 C h   2 C h   1   g as_r<9:2>   00h  hum_lsb   [0]   26h   26h   1   h um_lsb<7:0>   00h  hum_msb   [0]   25h   25h   1   h um_msb<7:0>   80h  temp_xlsb   [0]   24h   24h   1   t emp_xlsb<7:4>   0   0   0   0   00h  temp_lsb   [0]   23h   23h   1   t emp_lsb<7:0>   00h  temp_msb   [0]   22h   22h   1   t emp_msb<7:0>   80h  press_xlsb [0]   21h   21h   1   press_xlsb<7:4>   0   0   0   0   00h  press_lsb [0]   20h   20h   1   press_lsb<7:0>   00h  press_msb [0]   1Fh   1Fh   1   press_msb<7:0>   80h  sub_m eas_ index   [0]   1 E h   1 E h   1   sub_meas_index_0<7:0>   00h  meas_status   [0]   1Dh   1Dh   1   n ew_data   g as_measuring   m easuring   g as_meas_index_0<3:0>   00h  Registers   Color /Type  Reserved   Do not change  Status register   Read only  Data register   Read only  Control register   Read/write

Bosch Sensortec   |   BME688 Datasheet   35   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  5.3   Register description  General   c ontrol   r egisters  5.3.1.1   SPI 3 wire interrupt enable   â€“   spi_3w_int_en  Register Name   Address   Content<bit position>   Description  ctrl_hum   0x72   spi_3w_int_en <6>   New data interrupt can be enabled if the device is in  SPI 3 wire mode and   pi_3w_int_en=1.  The new data interrupt is then indicated on the SDO  pad.  5.3.1.2   SPI 3 wire enable   â€“   spi_3w_en  Register Name   Address   Content<bit position>   Description  config   0x75   spi_3w_en<0>   Enable SPI 3 wire mode  5.3.1.3   Mode   Selection   â€“   mode  The operation modes of   the sensor   can be controlled by the register mode as specified below.  Register Name   Address   Content<bit position>   Description  ctrl_meas   0x74   mode<1:0>   Select sensor   power mode as shown in the following  table  mode<1:0>   Mode  00   Sleep mode  01   Forced mode  10   Parallel mode  5.3.1.4   SPI memory map page selection   â€“   spi_mem_page  In SPI mode complete memory page is accessed using   page 0 & page 1 .   Register   spi_mem_page   is used for page selection.  After power - on,   spi_mem_page   is in its reset state and   page 0(0x00 to 0x7F) will be active. Page1 (0x7F to 0xFF) will be  active on setting   spi_mem_page .   Please refer   Table   21   for better understanding.  Register Name   Addres s   Content<bit position>   Description  status   0x73(Page 0/1)   spi_mem_page   <4>   Selects memory map page in SPI mode

Bosch Sensortec   |   BME688 Datasheet   36   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  5.3.1.5   Reset   â€“   reset  Writing 0xB6 to this register initiates a soft - reset procedure, which has the same effect like power - on reset .   The default  value stored in this register is 0x00.  Register Name   Address   Content<bit position>   Description  reset   0x60 (Page 0 in SPI mode)  0xE0 in I 2 C  reset<7:0>   Resets the device  Sensor identification registers  5.3.2.1   Variant Id   â€“   Variant _ Id  Register Name   Address   Content<bit position>   Description  Variant _ Id   0x 7 0(Page 0 in SPI mode)  0x F 0 in I 2 C  variant _id<7:0>   Variant   I d of the   sensor  For BME688   -   0x01h  5.3.2.2   Chip id   â€“   chip_id  Register Name   Address   Content<bit position>   Description  Chip_Id   0x50(Page 0 in SPI   mode)  0xD0 in I 2 C  chip_id<7:0>   Chip id of the device  Temperature , pressure   and relative humidity control registers  5.3.3.1   Humidity sensor over sampling control   â€“   osrs_h  Register Name   Address   Content<bit position>   Description  ctrl_hum   0x72   osrs_h<2:0>   Controls over sampling setting of humidity  sensor as described in the following table  osrs_h<2:0>   Humidity oversampling  000   Skipped (output set to 0x8000)  001   oversampling Ã—1  010   oversampling Ã—2  011   oversampling Ã—4  100   oversampling Ã—8  101, Others   oversampling Ã—16  5.3.3.2   Over sampling setting   â€“   Temperature data   â€“   osrs_t  Register Name   Address   Content<bit position>   Description  ctrl_meas   0x74   osrs_t<7:5>   Temperature oversampling settings as shown  in the following table  osrs_t<2:0>   Temperature oversampling  000   Skipped (output set to 0x8000)  001   oversampling Ã—1  010   oversampling Ã—2  011   oversampling Ã—4  100   oversampling Ã—8  101, Others   oversampling Ã—16

Bosch Sensortec   |   BME688 Datasheet   37   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  5.3.3.3   Over sampling setting   â€“   Pressure data   â€“   osrs_p  Register Name   Address   Content<bit position>   Description  ctrl_meas   0x74   osrs_p<4:2>   Pressure oversampling settings as shown in  the following table  osrs_p<2:0>   Pressure oversampling  000   Skipped (output set to 0x8000)  001   oversampling Ã—1  010   oversampling Ã—2  011   oversampling Ã—4  100   oversampling Ã—8  101, Others   oversampling Ã—16  5.3.3.4   IIR filter control   â€“   filter  IIR filter applies to   temperature   and pressure   data but not to humidity and gas data. The data coming from the ADC are  filtered and then loaded into the data registers. The temperature   and pressure   result registers are updated together at the  same time at the end of the measurement. IIR filter output   resolution is 20 bits. The result registers are reset to value 0x80000  when the temperature   and/or pressure   measurements have been skipped ( osrs_x =â€000 â€Ÿ ). The appropriate filter memory is  kept unchanged (the value from the last measurement is kept). When t he appropriate OSRS register is set back to nonzero,  then the first value stored to the result registers are filtered.  Register Name   Address   Content<bit position>   Description  config   0x75   filter<4:2>   IIR filter settings as shown in the following  table  filter<2:0>   Filter coefficient  000   0  001   1  010   3  011   7  100   15  101   31  110   63  111   127

Bosch Sensortec   |   BME688 Datasheet   38   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Gas control registers  The sensor can have 10 programmable gas sensor heater   steps .   Each   heater   step   consists of a target heater resistance  corresponding to heater temperature , heater - on time and optionally an initial heater current.  5.3.4.1   Heater   c urrent   -   idac_heat_x  BME6 8 8   contains a   heater   control   block   that will   inject enough   current into the h eater resistance to achieve the requested  heater   temperature . There   i s a control loop which periodically measures heater resistance value and adapts the value of  current injected from a DAC.  The heater operation could be speeded up by setting an initial h eater current for a target heater temperature by using  register   idac_heat_x <7:0> . This step is optional since the control loop will find the current after a few iterations anyway. The  current injected to the heater in mA can be calculated by: ( idac_heat _ 7 _ 1   + 1) / 8, where idac_heat_7_1 is the decimal  value stored in   idac_heat<7:1>   (unsigned, value from 0 to 127).  Heater   steps   Register name   Address   Content   Description  0...9   idac_heat_x  x is from 0 to 9  0x50â€¦0x59   idac_heat_x<7: 0 >  x   is from   0 to 9  idac_heat of particular heater  set point  5.3.4.2   Target heater resistance   -   res_heat_x  Target heater resistance   is programmed by user through   res_heat_x<7:0>   registers . The definition of   res_heat_x   is given in  Section   3.6.5 .  Heater   step   Register name   Address   Content   Description  0...9   res_wait_x  x is from 0 to 9  0x5Aâ€¦0x63   res_heat_x<7:0>  x is from 0 to 9  Decimal value   that needs to be  stored for achieving target  heater resistance  5.3.4.3   Gas Sensor   heater - on time in Forced mode   -   gas_wait_x  Referring to   Figure   2 , the t ime between   the   beginning of   the   heat phase and   the   start of   gas   sensor resistance   measurement  depend s   on   gas_wait_x   setting as mentioned below.  Heater   step   Register name   Address   Content   Description  0...9   gas_wait_x  x is from 0 to 9  0x64â€¦0x6D   gas_wait_x<5:0>  x is from 0 to 9  64 timer values with  1 ms step sizes, all zeros  means no wait  0...9   gas_wait_x  x is from 0 to 9  0x64â€¦0x6D   gas_wait_x<7:6>  x is from 0 to 9  Timer   multiplication   factor   as  shown in below table  gas_wait_x<7:6>   Gas sensor wait time multiplication factor  00   1  01   4  10   16  11   64

Bosch Sensortec   |   BME688 Datasheet   39   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  5.3.4.4   Gas Sensor   heater - on time in parallel mode   - -   gas_wait_x   &   gas_wait_shared  Referring to   3.5.4 ,   total heater - on time   depend s   on   number of TPHG sequence, time taken for   TPHG   measurement and wait  phase   of each   TPHG sequence.   gas_wait_x < 7 :0>   sets number of times TPHG sequence needs to be r epeated .  The number of TPHG sub - measurement sequences within the one Gas conversion for one target temperature resistance is  defined by gas_wait_X(7:0) settings. The duration of measurement is calculated as follows: Duration = gas_wait_X Ã— (wait  time defin ed by   gas_wait_shared   + TTPHG_duration)  Heater   step   Register name   Address   Content   Description  0...9   gas_wait_x  x is from 0 to 9  0x64â€¦0x6D   gas_wait_x< 7 :0>  x is from 0 to 9  255   values with  1 LSB corresponds to 1 TPHG  sequence , all zeros means  gas_wait_shared is fully  skipped and one TPHG  sequence is executed.  gas_wait_shared<7:0>   sets wait time before each TPHG   measurement sequence with duration as configured below. This  is common for the whole gas measurement sequence in pa rallel mode.  Register Name   Address   Content<bit position>   Description  gas_wait_shared   0x6E   gas_wait_shared < 5 :0>   64 timer values with 0.477ms step sizes, all zeros  means no wait.   gas_wait_shared=0x00 is treated  as if gas_wait_shared=0x01.  gas_wait_ shared  <7:6>  Gas sensor wait time multiplication factor  00   1  01   4  10   16  11   64  5.3.4.5   Heater off   -   heat_off  Register Name   Address   Content<bit  position>  Description  ctrl_gas_0   0x70   heat_off <3>   Turn off current injected to heater by setting bit to  one  5.3.4.6   Heater   profile selection -   nb_conv  nb_conv   set   heater   profile   of   the sensor .  Register Name   Address   Content<bit position>   Description  ctrl_gas_1   0x71   nb_conv<3:0>   Forced mode:   Indicates   index of heater   step   that  will be used in forced mode as describe in below  table  Parallel mode:   Indicates   sequence of up to 10  heater steps   as describe in below table

Bosch Sensortec   |   BME688 Datasheet   40   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  In forced mode:  nb_conv<3:0>   Heater   step  0000   0  0001   1  0010   2  0011   3  0100   4  0101   5  0110   6  0111   7  1000   8  1001   9  In parallel mode:  nb_conv<3:0>   Length of h eater   profile  0000   No conversion  0001   Heater step 0  0010   Heater step 0 - 1  0011   Heater step 0 - 2  0100   Heater   step 0 - 3  0101   Heater step 0 - 4  0110   Heater step 0 - 5  0111   Heater step 0 - 6  1000   Heater step 0 - 7  1001   Heater step 0 - 8  1010 to 1111   Heater step 0 - 9  Each   heater   step   in profile   has   specific   heater   temperature and heater - on time   and   gas_meas_index   register (see   5.3.6.4 )  store s   inde x   of   heater step   (up to 10   steps   numbered from 0 to 9)   corresponding to TPHG data.  5.3.4.7   Run Gas   -   run_gas  Register Name   Address   Content<bit position>   Description  ctrl_gas_1   0x71   run_gas < 5 >   The gas conversions are started only in  appropriate mode if run_gas = â€˜1â€™

Bosch Sensortec   |   BME688 Datasheet   41   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Data registers  In this section, the data registers for the temperature,   pressure,   humidity and gas sensors are explained. Shadowing  registers are utilized to buffer the data and to ensure stable data in case an update of the data registers occurs  simultaneously with the   serial interface reading out.  3 fields store TPHG data, status bits and time indexes :  â€¢   In forced mode only field 0 is used ,  â€¢   In parallel mode, fields are filled from 0 to 2 and overwritten if more than 3 heater steps have been selected ( 5.3.4.6 ).  5.3.5.1   Pressure data  Register Name  [Field]  Address   Content<bit position>   Description  press_msb   [0]  press_msb   [1]  press_msb   [2]  0x1F  0x30  0x41  press_msb<7:0>   Contains the MSB   part [19:12] of the raw  pressure measurement output data.  press_lsb   [0]  press_lsb   [1]  press_lsb   [2]  0x20  0x31  0x42  press_lsb<7:0>   Contains the LSB part [11:4] of the raw pressure  measurement output data  press_xlsb   [0]  press_xlsb   [1]  press_xlsb   [2]  0x21  0x32  0x43  press_xlsb<7:4>   Contains the XLSB part [3:0] of the raw pressure  measurement output data. Contents depend on  pressure resolution controlled by oversampling  setting.  5.3.5.2   Temp   data  Register Name  [Field]  Address   Content<bit position>   Description  temp_msb   [0]  temp_msb   [1]  temp_msb   [2]  0x22  0x33  0x44  temp_msb<7:0>   Contains the MSB part [19:12] of the raw  temperature measurement output data.  temp_lsb   [0]  temp_lsb   [1]  temp_lsb   [2]  0x23  0x34  0x45  temp_lsb<7:0>   Contains   the   LSB   part   [11:4]   of   the   raw  temperature measurement output data.  temp_xlsb   [0]  temp_xlsb   [1]  temp_xlsb   [2]  0x24  0x35  0x46  temp_xlsb<7:4>   Contains   the   XLSB   part   [3:0]   of   the   raw  temperature measurement output data. Contents  depend on temperatu re resolution controlled by  oversampling setting.  5.3.5.3   Humidity data  Register Name  [Field]  Address   Content<bit position>   Description  hum_msb   [0]  hum_msb   [1]  hum_msb   [2]  0x25  0x36  0x47  hum_msb<7:0>   Contains the MSB part [15:8] of the raw humidity  measurement output data.  hum_lsb   [0]  hum_lsb   [1]  hum_lsb   [2]  0x26  0x37  0x48  hum_lsb<7:0>   Contains the LSB part [7:0] of the raw humidity  measurement output data.

Bosch Sensortec   |   BME688 Datasheet   42   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  5.3.5.4   Gas resistance data  Register Name  [Field]  Address   Content<bit position>   Description  gas_r_msb   [0]  gas_r_msb   [1]  gas_r_msb   [2]  0x2 C  0x3D  0x4E  gas_r<7:0>   Contains the MSB part gas resistance [9:2] of the  raw gas resistance.  gas_r_lsb   [0]  gas_r_lsb [1 ]  gas_r_lsb [2]  0x2 D  0x3E  0x4F  gas_r<7:6>   Contains the LSB part gas resistance [1:0] of the  raw gas resistance.  5.3.5.5   Gas resistance range  Register Name  [Field]  Address   Content<bit position>   Description  gas_r_lsb   [0]  gas_r_lsb [ 1 ]  gas_r_lsb [ 2 ]  0x2 D  0x3E  0x4F  gas_range_r<3:0>   Contains ADC range of measured gas resistance.

Bosch Sensortec   |   BME688 Datasheet   43   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Status registers  The measured data are stored into the output data   registers at the end of each T P HG conversion phase along with status  flags and index of measurement  5.3.6.1   New data status  Register Name  [Field]  Address   Content<bit position>   Description  meas_status   [0]  meas_status   [1]  meas_status   [2]  0x1D  0x2E  0x3F  new_data<7>   New data flag indicate that data f ield contains a  new data, not already read - out .  5.3.6.2   Gas measuring status  Measuring bit   is set to 1   only   during   gas   measurements, goes to 0 as soon as measurement is completed and data  transferred to data registers.   T he registers storing the configuration values for the measurement ( gas_wait_shared ,  gas_wait_x ,   res_heat_x ,   idac_heat_x , image registers) should not be ch anged when the device is measuring .  Register Name  [Field]  Address   Content<bit position>   Description  meas_status   [0]  meas_status   [1]  meas_status   [2]  0x1D  0x2E  0x3F  gas_measuring<6>   Gas measuring status flag  5.3.6.3   Measuring status  Measuring status will be set to â€˜1â€™ whenever a conversion (temperature,   pressure,   humidity and gas) is running and back to  â€˜0â€™ when the results have been transferred to the data registers.  Register Name  [Field]  Address   Content<bit position>   Description  meas_status   [0]  meas_status   [1]  meas_status   [2]  0x1D  0x2E  0x3F  measuring<5>   Measuring status flag  5.3.6.4   Gas Measurement Index  User can   trigger   a   heater profile   of up to 10   heater steps   by setting   nb_conv <3:0> (see   5.3.4.6 ) .  Each   heater step in profile   has   specific   heater   temperature and heater - on time and   gas_meas_index register   stores index  of heater step   (up to 10   steps   numbered from 0 to 9)   corresponding to   TPHG data  Register Name  [Field]  Address   Content<bit position>   Description  meas_status   [0]  meas_status   [1]  meas_status   [2]  0x1D  0x2E  0x3F  gas_meas_index_0<3:0>   Gas measurement index

Bosch Sensortec   |   BME688 Datasheet   44   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  5.3.6.5   Gas valid status  In each T P HG sequence   in parallel mode   contains a gas measurement slot, either a real one which result is used or a  dummy one to keep   a constant sampling rate and predictable device timing .   A real gas conversion (i.e., not a dummy one)  is indicated by the   gas_valid _r   status re gister.  Register Name  [Field]  Address   Content<bit position>   Description  gas_r_lsb   [ 0 ]  gas_r_lsb   [ 1 ]  gas_r_lsb   [ 2 ]  0x2 D  0x3E  0x4F  gas_valid_r<5>   Gas valid bit  5.3.6.6   Heater Stability Status  Heater temperature stability for target heater resistance is indicated   heat_stab_x   status bits   and updated with data  registers . The heater stability flag behavior depends on the current device mode:  â€¢   Forced mode: Stability is monitored only during the auto   ranging sequences for gas measurements.  â€¢   Parallel mode: Stability is monitored from the beginning of the last one TPHG sequence (the on  containing the real gas measurements) to the end of the gas measurement.  Register Name  [Field]  Address   Content<bit po sition>   Description  gas_r_lsb [0]  gas_r_lsb [1]  gas_r_lsb   [2]  0x2D  0x3E  0x4F  heat_stab_r<4>   Heater stability bit  5.3.6.7   Sub Measurement Index  Indicates current TPHG sequence number on operating sensor on parallel mode, which are incremented for each TPHG  measurement.   These status bytes form â€œvirtual time sensorâ€ and contain a snapshot of the internal 8 bit   conversion counter  since the last chang e of device   mode.  Register Name  [Field]  Address   Content<bit position>   Description  sub_meas_index   [0]  sub_meas_index   [1]  sub_meas_index   [2]  0x 1E  0x2F  0x40  sub_meas_index <7:0>   TPHG measurement sequence number

Bosch Sensortec   |   BME688 Datasheet   45   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  6.   Digital interfaces  The sensor supports the IÂ²C and SPI digital interfaces, where it acts as a slave for both protocols. The IÂ²C interface suppor ts  the Standard, Fast and High Speed modes. The SPI interface supports both SPI mode â€˜00â€™ (CPOL = CPHA = â€˜0â€™) and mode  â€˜11â€™ (CPOL =   CPHA = â€˜1â€™) in 4 - wire and 3 - wire configuration.  The following transactions are supported:  â€¢   Single byte write  â€¢   multiple byte write (using pairs of register addresses and register data)  â€¢   single byte read  â€¢   multiple byte read (using a single register address w hich is auto - incremented)  6.1   Interface selection  Interface selection is done automatically based on CSB (chip select) status. If CSB is connected to V DDIO , the IÂ²C interface is  active. If CSB is pulled down, the SPI interface is activated. After CSB has been   pulled down once (regardless of whether  any clock cycle occurred), the IÂ²C interface is disabled until the next power - on - reset. This is done in order to avoid  inadvertently decoding SPI traffic to another slave as IÂ²C data. Since the device startup is defe rred until both V DD   and V DDIO  are established, there is no risk of incorrect protocol detection because of the power - up sequence used. However, if IÂ²C is to  be used and CSB is not directly connected to V DDIO   but is instead connected to a programmable pin,   it must be ensured that  this pin already outputs the V DDIO   level during power - on - reset of the device. If this is not the case, the device will be locked  in SPI mode and not respond to IÂ²C commands.  6.2   IÂ²C Interface  For detailed timings, please review   Table   24   . All modes (standard, fast, high speed) are supported.   SDA and SCL are not  pure open - drain. Both pads contain ESD protection diodes to VDDIO and GND. As the devices does not perform clock  stretching, the SCL structure is a   high - Z input without drain capability .  Picture   6 : SDI/SCK ESD schematic  The 7 - bit device address is 111011x. The 6 MSB bits are   fixed. The last bit is changeable by SDO value and can be changed  during operation. Connecting SD O to GND results in slave address 1110110 (0x76); connection it to V DDIO   results in slave  address 1110111 (0x77), which is the same as BMP280â€™s IÂ²C address. The SDO pin cannot be left floating; if left floating, the  IÂ²C address will be undefined.

Bosch Sensortec   |   BME688 Datasheet   46   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  The IÂ² C interface uses the following pins:  â€¢   SCK:   serial clock (SCL)  â€¢   SDI:   data (SDA)  â€¢   SDO:   Slave address LSB (GND = â€˜0â€™, V DDIO   = â€˜1â€™)  CSB must be connected to V DDIO   to select IÂ²C interface. SDI is bi - directional with open drain to GND: it must be externally  connected to V DDIO   via a pull up resistor. Refer to Chapter   7   for con nection instructions.  The following abbreviations will be used in the IÂ²C protocol figures:  â€¢   S   Start  â€¢   P   Stop  â€¢   ACKS   Acknowledge by slave  â€¢   ACKM   Acknowledge by master  â€¢   NACKM   Not acknowledge by master  IÂ²C write  Writing is done by sending the slave address in   write mode (RW = â€˜0â€™), resulting in slave address 111011X0 (â€˜Xâ€™ is determined  by state of SDO pin. Then the master sends pairs of register addresses and register data. The transaction is ended by a stop  condition. This is depicted in   Picture   7 . Start   RW   ACKS   ACKS   ACKS  1   1   1   0   1   1   X   0   1   0   1   0   0   0   0   0   bit7   bit6   bit5   bit4   bit3   bit2   bit1   bit0   â€¦  ACKS   ACKS   Stop  â€¦   1   0   1   0   0   0   0   1   bit7   bit6   bit5   bit4   bit3   bit2   bit1   bit0  Register data - address A0h Register address (A0h)  Register address (A1h)  S  Slave Address  Control byte   Data byte  Control byte   Data byte  P  Register data - address A1h  Picture   7 : IÂ²C multiple byte write (not auto - incremented)  IÂ²C read  To be able to read registers, first the register address must be sent in write mode (slave address 111011X0). Then   either a  stop or a repeated start condition must be generated. After this the slave is addressed in read mode (RW = â€˜1â€™) at address  111011X1, after which the slave sends out data from auto - incremented register addresses until a NOACKM and stop  condition oc curs. This is depicted in   Picture   8 , where register 0xF6 and 0xF7 are read. Start   RW   ACKS   ACKS  1   1   1   0   1   1   X   0   1   1   1   1   0   1   1   0  Start   RW   ACKS   ACKM   NOACKM   Stop  1   1   1   0   1   1   X   1   bit7   bit6   bit5   bit4   bit3   bit2   bit1   bit0   bit7   bit6   bit5   bit4   bit3   bit2   bit1   bit0  Control byte  Data byte   Data byte  Register address (F6h)  S  Slave Address  P S  Slave Address   Register data - address F7h Register data - address F6h  Picture   8 : IÂ²C multiple byte read

Bosch Sensortec   |   BME688 Datasheet   47   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  6.3   SPI interface  The SPI interface is compatible with SPI mode â€˜00â€™ (CPOL = CPHA = â€˜0â€™) and mode â€˜11â€™ (CPOL = CPHA = â€˜1â€™). The automatic  selection between mode â€˜00â€™ and â€˜11â€™ is determined by the value of SCK after the CSB falling edge.  The SPI interface has two modes, na mely 4 - wire and 3 - wire mode. However, the protocol is the same for both.   The 3 - wire  mode is selected by setting â€˜1â€™ to the register spi3w_en . The pad SDI is used as a data pad in 3 - wire mode.  The SPI interface uses the following pins:  â€¢   CSB:   chip select,   active low  â€¢   SCK:   serial clock  â€¢   SDI:   serial data input; data input/output in 3 - wire mode  â€¢   SDO:   serial data output; hi - Z in 3 - wire mode  For more connection instructions, please refer to   Chapter   7 .  CSB is active low and has an integrated pull - up resistor. Data on SDI is latched by the device at SCK rising edge and SDO  is changed at SCK falling edge. Communication starts when CSB goes to low and stops when CSB goes to hig h; during  these transitions on CSB, SCK must be stable. The SPI protocol is shown in   It is important to note that   Picture   9 . For timing  details,   please review   Table   25 . CSB  SCK  SDI  RW   AD 6   AD 5   AD 4   AD 3   AD 2   AD1   AD0   DI5   DI4   DI3   DI2   DI1   DI0 DI7   DI6  SDO  DO5   DO4   DO3   DO2   DO1   DO0 DO7   DO6   tri - state  Picture   9 : SPI protocol (shown for mode â€˜11â€™ in 4 - wire configuration)  It is important to note that i n   the   SPI mode, only 7 bits of the register addresses are used; the MSB of register address is not  used and replaced by a read/write bit (RW = â€˜0â€™ for write and RW = â€˜1â€™ for read).   For example, address 0xF7 is accessed by  using SPI register address 0x77. On the   one hand, the byte 0x77 is transferred for write access, and on the other hand, the  byte 0xF7 is transferred for read access.  SPI write  Writing is done by lowering CSB and sending pairs control bytes and register data. The control bytes consist of the SPI  register address (= full register address without bit 7) and the write command (bit7 = RW = â€˜0â€™). Several pairs can be writte n  without raising CSB. The transaction is ended by a raising CSB.   The SPI   write protocol is depicted   in   Picture   10 . Start   RW   RW   Stop  0   1   1   1   0   1   0   0   bit7   bit6   bit5   bit4   bit3   bit2   bit1   bit0   0   1   1   1   0   1   0   1   bit7   bit6   bit5   bit4   bit3   bit2   bit1   bit0  Control byte  CSB = 1  Data byte  Register address (F5h)   Data register - adress F5h Register address (F4h)  CSB = 0  Control byte   Data byte  Data register - address F4h  Picture   10 : SPI multiple byte write (not auto - incremented)

Bosch Sensortec   |   BME688 Datasheet   48   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  SPI read  Reading is done by   lowering CSB and first sending one control byte. The control bytes consist of the SPI register  address (= full register address without bit 7) and the read command (bit 7 = RW = â€˜1â€™). After writing the control  byte, data is sent out of the SDO pin (SDI in 3 - wire mode); the register address is automatically incremented. The  SPI read protocol is depic ted in   Picture   11 . Start   RW   Stop  1   1   1   1   0   1   1   0   bit15   bit14   bit13   bit12   bit11   bit10   bit9   bit8   bit7   bit6   bit5   bit4   bit3   bit2   bit1   bit0  CSB = 1  Data byte  Data register - address F7h Register address (F6h)  CSB = 0  Control byte   Data byte  Data register - address F6h  Picture   11 : SPI multiple byte read  6.4   Interface parameter specification  General interface parameters  Table   23 : Interface parameters  Parameter   Symbol   Condition   Min   Typ   Max   Unit  Input low level   V il_si   V DDIO =1.2 V to 3. 6V   20   %V DDIO  Input high level   V ih_si   V DDIO =1.2 V to 3.6 V   80   %V DDIO  Output low level I 2 C   V ol_SDI   V DDIO =1.62 V, I ol =3 mA   20   %V DDIO  Output low level I 2 C   V ol_SDI_1.2   V DDIO =1.20 V, I ol =3 mA   23   %V DDIO  Output low level SPI   V ol_SDO   V DDIO =1.62 V, I ol =1 mA   20   %V DDIO  Output low level SPI   V ol_SDO_1.2   V DDIO =1.20 V, I ol =1 mA   23   %V DDIO  Output high level   V oh   V DDIO =1.62 V, I oh =1 mA   (SDO, SDI)   80   %V DDIO  Output high level   V oh_1.2   V DDIO =1.20 V, I oh =1 mA   (SDO, SDI)   60   %V DDIO  Pull - up resistor   R pull   Internal CSB   pull - up resistor   to V DDIO   70   120   190   k Î©  I 2 C bus load capacitor   C b   On SDI and SCK   400   pF

Bosch Sensortec   |   BME688 Datasheet   49   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  IÂ²C timings  For IÂ²C timings, the following abbreviations are used:  â€¢   â€œS&F modeâ€ = standard and fast mode  â€¢   â€œHS modeâ€ = high speed mode  â€¢   C b   = bus capacitance on SDA line  All other n aming refers to I Â² C spec ification   2.1 (January 2000).  The IÂ²C timing diagram is in   Picture   12 . The corresponding values are given in   Table   24 t HDDAT  t f  t BUF  SD I  SCK  SD I  t LOW  t HDSTA   t r  t SUSTA  t HIGH  t SUDAT  t SUSTO  Picture   12 : I 2 C timing diagram  Table   24 : I 2 C ti mings  Parameter   Symbol   Condition   Min   Typ   Max   Unit  SDI setup time   t SU;DAT  S&F Mode  HS mode  160  30  ns  ns  SDI hold time   t HD;DAT  S&F Mode, C b â‰¤100 pF  S&F Mode, C b â‰¤400 pF  HS mode, C b â‰¤100 pF  HS mode, C b â‰¤400 pF  80  90  18  24  115  150  ns  ns  ns  ns  SCK low   pulse   t LOW  HS mode, C b â‰¤100 pF  V DDIO   = 1.62 V   160   ns  SCK low pulse   t LOW  HS mode, C b â‰¤100 pF  V DDIO   = 1.2 V   210   ns  The above - mentioned I 2 C specific timings correspond to the following internal added delays:  â€¢   Input delay between SDI and SCK inputs: SDI is more delayed than SCK by typically 100   ns in Standard and Fast  Modes and by typically 20   ns in High Speed Mode.  â€¢   Output delay from SCK falling edge to SDI output propagation is typically 140   ns in Standard and   Fast Modes and  typically 70   ns in High Speed Mode.

Bosch Sensortec   |   BME688 Datasheet   50   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  SPI timings  The SPI timing diagram is in   Picture   13 , while the corresponding values are given in   Table   25 . All timings apply both to 4 -  and 3 - wire SPI. CSB  SCK  T_setup_csb  T_ low _ sck   T_ high _ sck  T_hold _csb  SDI  T_setup_ sdi   T_hold _ sdi  SDO  T_delay _ sdo  Picture   13 : SPI timing diagram  Table   25 : SPI timings  Parameter   Symbol   Condition   Min   Typ   Max   Unit  SPI clock i/p   frequency   F_spi   0   10   MHz  SCK low pulse   T_low_sck   20   ns  SCK high pulse   T_high_sck   20   ns  SDI setup time   T_setup_sdi   20   ns  SDI hold time   T_hold_sdi   20   ns  SDO output delay   T_delay_sdo   25 pF load,   V DDIO =1.6 V min   30   ns  SDO output   delay   T_delay_sdo   25 pF load,   V DDIO =1.2 V min   40   ns  CSB setup time   T_setup_csb   20   n s  CSB hold time   T_hold_csb   20   ns  SPI clock input  frequency   F_spi   0   10   MHz

Bosch Sensortec   |   BME688 Datasheet   51   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  7.   Pin - out and connection diagram  7.1   Pin - out  The pin numbering of   BME6 8 8   is performed in the untypical clockwise direction when seen in top view and counter - clockwise  when seen in bottom view.   Picture   14   and   Table   26   give a detailed description and illustration of the input/output pins.  Picture   14 : Top (left) and bottom (right) views of the chip with input/output pins  Table   26 : Pin description  Pin   Name   I/O type   Des cription  Connection  SPI 4W   SPI 3W   I 2 C  1   GND   Supply   Ground   GND  2   CSB   In   Chip select   CSB   CSB   V DDIO  3   SDI   In/Out   Serial data input   SDI   SDI/SDO   SDA  4   SCK   In   Serial clock input   SCK   SCK   SCL  5   SDO   In/Out   Serial data output   SDO   DNC  GND for  default  address  6   V DDIO   Supply   Digital / Interface supply   V DDIO  7   GND   Supply   Ground   GND  8   V DD   Supply   Analog supply   V DD

Bosch Sensortec   |   BME688 Datasheet   52   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  7.2   Connection diagram s  For the I 2 C connection, it is recommended to use 100 nF for C 1   and C 2 . Moreover, the value for the pull - up   resistors R 1   and  R 2   should be based on the interface timing and the bus load; a normal value is 4.7   k Î© .   Finally, a direct connection between  CSB and V DDIO   is required. Similarly for the 4 -   and 3 - wire SPI connections, it is suggested to use 100 nF for C 1   an d C 2 .  Picture   15 : Connection diagrams for (a) I 2 C, (b) 4 - wire SPI, and (c) 3 - wire SPI (a)   (b)   (c)

Bosch Sensortec   |   BME688 Datasheet   53   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  7.3   Package d imensions  Picture   16 : Package dimensions for top, bottom and side view

Bosch Sensortec   |   BME688 Datasheet   54   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  7.4   Landing pattern recommendation  For the design of the landing pattern,   the dimensions shown in   Picture   17 : Recommended landing pattern (top   view;  dimensions are in millimeters)   are recommended. It is important to note that areas marked   in red are exposed PCB metal  pads.  â€¢   In case of a solder mask defined (SMD) PCB process, the land dimensions should be defined by solder mask  openings. The underlying metal pads are larger than these openings.  â€¢   In case of a non - solder mask defined (NSMD) P CB process, the land dimensions should be defined in the metal  layer. The mask openings are larger than these metal pads. 1  2  4  3  8  7  5  6  Soldier stop  Landing pattern  1 . 5 0  3 . 00  0 . 40  0 . 60  0 . 20  0 . 40  0 . 60  1 . 5 0  3 . 00  0 . 10  Picture   17 : Recommended landing pattern (top   view; dimensions are in millimeters)  Solder stop  Landing pattern

Bosch Sensortec   |   BME688 Datasheet   55   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  7.5   Markin g  Mass production devices  Table   27 : Marking of mass production parts  Marking   Symbol   Description  CCC   Lot counter :   3 alphanumeric digits, variable  to generate mass production   trace - code  T   Product number:   1 alphanumeric digit,   fixed  to identify product type .  â€œTâ€ identifies the BME688 w/ the part no.  0 273   017 016  L   Sub - contractor ID :   1 alphanumeric digit,  variable to identify sub - contractor (L = â€œPâ€)  Note:   The product numbers â€œSâ€ and â€œEâ€ identify the BME680 .  Engineering samples  Table   28 : Marking of engineering samples  Marking   Symbol   Description  XX   Sample ID: 2 - 3   alphanumeric digits,  variable to generate trace - code  N   Eng. Sample ID: 1 alphanumeric digit, fixed  to identify engineering sample,  N = â€œ * â€ or â€œeâ€ or â€œEâ€  CC   Counter ID: 2 - 3   alphanumeric digits,  variable to generate trace - code  Note: Early engineering samples (e.g. w/ marking â€œ688E HR1â€) did not yet have a flashed   variant_id   as described in  chapter   5.3.2.1 . Consequently, they are no t   automatically rec ognized by the API. In order to   ensure correct function, the  API needs to be manually modified according to the used variant.

Bosch Sensortec   |   BME688 Datasheet   56   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  7.6   Soldering guideline s   and reconditioning recommendations  The moisture sensitivity level of the   BME6 8 8   sensors corresponds to JEDEC Level 1, see also:  â€¢   IPC/JEDEC J - STD - 020C   â€œ Joint Industry Standard: Moisture/Reflow Sensitivity Classification for non - hermetic Solid  State Surfac e Mount Devices â€  â€¢   IPC/JEDEC J - STD - 033A   â€œ Joint Industry Standard: Handling, Packing, Shipping and Use of Moisture/Reflow  Sensitive Surface Mount Devices â€  The sensor fulfils the lead - free soldering requirements of the above - mentioned IPC/JEDEC standard, i.e.   reflow soldering  with a peak temperature up to 260Â°C.   The minimum height of the solder after reflow shall be at least 50   Î¼m. This is required  for good mechanical decoupling between the sensor device and the printed circuit board (PCB).  Picture   18 : Soldering profile  7.7   Mounting and assembly recommendations  This HSMI - document provides all the necessary instructions to handle, solder and mount the environmental sensor BME68 8 .  Following the reported guidelines is very   important to prevent the damage of the sensor and the resultant loss of warranty.

Bosch Sensortec   |   BME688 Datasheet   57   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  7.8   Environmental safety  RoHS  The   BME688   sensor meets the requirements of the EC restriction of hazardous substances (RoHS) directive, see also:  Directive 2011/65/EU and its ame ndments, including the amendment 2015/863/EU on the restriction of the use of certain  hazardous substances in electrical and electronic equipment .  Halogen content  The   BME6 8 8   is halogen - free. For more details on the analysis results please contact your Bosc h Sensortec representative.  Internal package structure  Within the scope of Bosch Sensortecâ€™s ambition to improve its products and secure the mass product supply, Bosch  Sensortec qualifies additional sources (e.g. 2 nd   source) for the packag ing and processin g   of the   BME6 8 8 .  While Bosch Sensortec took care that all of the technical packages parameters are described above are 100% identical for  all sources, there can be differences in the chemical content and the internal structural between the different packa ge sources.  However, as secured by the extensive product qualification process of Bosch Sensortec, this has no impact to the usage or  to the quality of the   BME6 8 8   product.

Bosch Sensortec   |   BME688 Datasheet   58   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  8.   Legal disclaimer  8.1   Engineering samples  Engineering Samples are marked with an   asterisk (*), (E) or (e). Samples may vary from the valid technical  specifications of the product series contained in this data sheet. They are therefore not intended or fit for resale  to third parties or for use in end products. Their sole purpose is inte rnal client testing. The testing of an engineering  sample may in no way replace the testing of a product series. Bosch Sensortec assumes no liability for the use  of engineering samples. The Purchaser shall indemnify Bosch Sensortec from all claims arising   from the use of  engineering samples.  8.2   Product use  Bosch Sensortec products are developed for the consumer goods industry. They may only be used within the  parameters of this product data sheet. They are not fit for use in life - sustaining or safety - critical   systems. Safety -  critical systems are those for which a malfunction is expected to lead to bodily harm, death or severe property  damage. In addition, they shall not be used directly or indirectly for military purposes (including but not limited to  nuclear,   chemical or biological proliferation of weapons or development of missile technology), nuclear power,  deep sea or space applications (including but not limited to satellite technology).  Bosch Sensortec products are released on the basis of the legal and n ormative requirements relevant to the  Bosch Sensortec product for use in the following geographical target market: BE, BG, DK, DE, EE, FI, FR, GR,  IE, IT, HR, LV, LT, LU, MT, NL, AT, PL, PT, RO, SE, SK, SI, ES, CZ, HU, CY, US, CN, JP, KR, TW. If you need  f urther information or have further requirements, please contact your local sales contact.  The resale and/or use of Bosch Sensortec products are at the purchaserâ€™s own risk and his own responsibility.  The examination of fitness for the intended use is the   sole responsibility of the purchaser.  The purchaser shall indemnify Bosch Sensortec from all third party claims arising from any product use not  covered by the parameters of this product data sheet or not approved by Bosch Sensortec and reimburse Bosch  Se nsortec for all costs in connection with such claims.  The purchaser accepts the responsibility to monitor the market for the purchased products, particularly with regard  to product safety, and to inform Bosch Sensortec without delay of all safety - critical   incidents  8.3   Application examples and hints  With respect to any examples or hints given herein, any typical values stated herein and/or any information  regarding the application of the device, Bosch Sensortec hereby disclaims any and all warranties and liabi lities of  any kind, including without limitation warranties of non - infringement of intellectual property rights or copyrights of  any third party. The information given in this document shall in no event be regarded as a guarantee of conditions  or character istics. They are provided for illustrative purposes only and no evaluation regarding infringement of  intellectual property rights or copyrights or regarding functionality, performance or error has been made.

Bosch Sensortec   |   BME688 Datasheet   59   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  9.   Document history and modifications  Rev.   Chapter   Description of modifications   Date  1.0   Initial   r elease   April   2021  1.1   1.2  1.5  5.2  5.3.4.7  â€¢   Sensitivity   (S H2S )   & F1 - score   (F1 H2S )   improved b y   updated  BSEC   2.2.0.0   software   (Table 4)  â€¢   Typical   IAQ   range   updated   according   to   BSEC   2.2.0.0  software improvements (Table 6)  â€¢   Temperature accuracy   (A T )   improved (Table 10)  â€¢   Memory Map for ctrl_gas_1 updated (Table 22)  â€¢   Bit position updated for ctrl_gas_1  July   2022  1.2   General   Updated Typical Applications   and Target Devices   February 2024  1.3   2   Removed condensation parameter from table 11   Februar y 2024

Bosch Sensortec   |   BME688 Datasheet   60   |   60  Modifications reserved   |Data subject to change without notice   |   Printed   in   Germany   Document number: BST - BM E688 - DS000 - 0 3   Revision_ 1. 3   0 2 202 4  Bosch Sensortec GmbH  Gerhard - Kindler - StraÃŸe 9  72770 Reutlingen / Germany  www.bosch - sensortec.com  Modifications reserved | Printed in Germany  Preliminary   -   specifications su bject to change without notice  Document number: BST - BME68 8 - DS 00 0 - 0 3  Revision_ 1. 3   0 2 202 4